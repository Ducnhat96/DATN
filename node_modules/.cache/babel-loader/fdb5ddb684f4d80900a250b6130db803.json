{"ast":null,"code":"import _slicedToArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ducnhat/Code/x-files/src/views/Rooms/index.tsx\";\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridContainer from '@/layouts/Grid/Container';\nimport RoomListing from '@/views/Rooms/RoomListing'; // import TopBarFilter from '@/views/Rooms/TopBarFilter';\n\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport React, { useReducer, Fragment, useEffect } from 'react';\nimport { compose } from 'recompose';\nimport { RoomIndexContext, RoomIndexReducer, RoomIndexStateInit } from '@/store/context/Room/RoomIndexContext';\nimport Hidden from '@material-ui/core/Hidden/Hidden';\nimport Loadable from 'react-loadable';\nimport { RoomMapReducer, RoomMapStateInit, RoomMapContext } from '@/store/context/Room/RoomMapContext';\nimport NavSearch from '@/components/ToolBar/NavSearch';\nimport qs from 'query-string';\nimport _ from 'lodash';\nimport '@/styles/Custom/maxWidthXl.scss';\nvar BottomNav = Loadable({\n  loader: function loader() {\n    return import('@/views/Rooms/BottomNav');\n  },\n  loading: function loading() {\n    return null;\n  }\n});\n\nvar styles = function styles(theme) {\n  return createStyles({\n    maxWidthContainer: {\n      maxWidth: '1138px'\n    },\n    BgGradient: {\n      backgroundColor: '#FFFFFF'\n    }\n  });\n};\n\nvar RoomIndex = function RoomIndex(props) {\n  var roomStateInit = props.roomStateInit,\n      mapStateInit = props.mapStateInit,\n      classes = props.classes;\n\n  var _useReducer = useReducer(RoomIndexReducer, roomStateInit ? roomStateInit : RoomIndexStateInit),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useReducer3 = useReducer(RoomMapReducer, RoomMapStateInit),\n      _useReducer4 = _slicedToArray(_useReducer3, 2),\n      mapState = _useReducer4[0],\n      mapDispatch = _useReducer4[1];\n\n  useEffect(function () {\n    var params = qs.parse(location.search);\n    var paramRoomTypes = typeof params.room_type === 'string' ? params.room_type : '';\n    var paramComforts = typeof params.amenities === 'string' ? params.amenities : '';\n    var roomTypes = !!paramRoomTypes ? _.split(paramRoomTypes, ',') : [];\n    var comforts = !!paramComforts ? _.split(paramComforts, ',') : [];\n    dispatch({\n      type: 'setFilter',\n      amenities: comforts.length > 0 ? _.map(comforts, function (v) {\n        return parseInt(v);\n      }) : [],\n      roomTypesFilter: roomTypes.length > 0 ? _.map(roomTypes, function (v) {\n        return parseInt(v);\n      }) : []\n    });\n  }, []);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(NavTop, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }), React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(NavSearch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(RoomIndexContext.Provider, {\n    value: {\n      state: state,\n      dispatch: dispatch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, React.createElement(RoomMapContext.Provider, {\n    value: {\n      state: mapState,\n      dispatch: mapDispatch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(GridContainer, {\n    lg: 10,\n    xs: 11,\n    sm: 11,\n    xl: 9,\n    className: classes.BgGradient,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94\n    },\n    __self: this\n  }, React.createElement(RoomListing, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95\n    },\n    __self: this\n  })), React.createElement(Hidden, {\n    mdUp: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, React.createElement(BottomNav, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })))));\n};\n\nexport default compose(withStyles(styles))(RoomIndex);","map":{"version":3,"sources":["/home/ducnhat/Code/x-files/src/views/Rooms/index.tsx"],"names":["NavTop","GridContainer","RoomListing","createStyles","withStyles","React","useReducer","Fragment","useEffect","compose","RoomIndexContext","RoomIndexReducer","RoomIndexStateInit","Hidden","Loadable","RoomMapReducer","RoomMapStateInit","RoomMapContext","NavSearch","qs","_","BottomNav","loader","loading","styles","theme","maxWidthContainer","maxWidth","BgGradient","backgroundColor","RoomIndex","props","roomStateInit","mapStateInit","classes","state","dispatch","mapState","mapDispatch","params","parse","location","search","paramRoomTypes","room_type","paramComforts","amenities","roomTypes","split","comforts","type","length","map","v","parseInt","roomTypesFilter"],"mappings":"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","sourcesContent":["import {ThemeCustom} from '@/components/Theme/Theme';\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridContainer from '@/layouts/Grid/Container';\nimport RoomListing from '@/views/Rooms/RoomListing';\n// import TopBarFilter from '@/views/Rooms/TopBarFilter';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport withStyles from '@material-ui/core/styles/withStyles';\nimport React, {useReducer, FunctionComponent, Fragment, useEffect, ComponentType} from 'react';\nimport {compose} from 'recompose';\nimport {\n  RoomIndexContext,\n  RoomIndexState,\n  RoomIndexAction,\n  RoomIndexReducer,\n  RoomIndexStateInit,\n} from '@/store/context/Room/RoomIndexContext';\nimport {RouteProps, RouterProps} from 'react-router';\nimport Hidden from '@material-ui/core/Hidden/Hidden';\nimport Loadable from 'react-loadable';\nimport {\n  RoomMapState,\n  RoomMapAction,\n  RoomMapReducer,\n  RoomMapStateInit,\n  RoomMapContext,\n} from '@/store/context/Room/RoomMapContext';\nimport NavSearch from '@/components/ToolBar/NavSearch';\nimport {RoomUrlParams} from '@/types/Requests/Rooms/RoomRequests';\nimport qs from 'query-string';\nimport _ from 'lodash';\nimport Banner from '@/assets/banner.jpg';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport '@/styles/Custom/maxWidthXl.scss';\n\ninterface IProps {\n  classes?: any;\n  isSSR?: boolean\n  roomStateInit?: RoomIndexState\n  mapStateInit?: RoomMapState\n}\n\nconst BottomNav = Loadable({\n  loader: (): Promise<any> => import('@/views/Rooms/BottomNav'),\n  loading: () => null,\n});\n\nconst styles: any = (theme: ThemeCustom) => createStyles({\n  maxWidthContainer: {\n    maxWidth: '1138px',\n  },\n  BgGradient: {\n    backgroundColor: '#FFFFFF',\n  },\n});\n\nconst RoomIndex: ComponentType<IProps> = (props: IProps) => {\n  const {roomStateInit, mapStateInit, classes} = props;\n\n  const [state, dispatch] = useReducer<RoomIndexState, RoomIndexAction>(\n    RoomIndexReducer,\n    roomStateInit ? roomStateInit : RoomIndexStateInit,\n  );\n\n  const [mapState, mapDispatch] = useReducer<RoomMapState, RoomMapAction>(RoomMapReducer, RoomMapStateInit);\n\n  useEffect(() => {\n    const params: RoomUrlParams = qs.parse(location.search!);\n\n    const paramRoomTypes = (typeof params.room_type === 'string') ? params.room_type : '';\n    const paramComforts  = (typeof params.amenities === 'string') ? params.amenities : '';\n\n    const roomTypes = (!!paramRoomTypes) ? _.split(paramRoomTypes, ',') : [];\n    const comforts  = (!!paramComforts) ? _.split(paramComforts, ',') : [];\n\n    dispatch({\n      type: 'setFilter',\n      amenities: comforts.length > 0 ? _.map(comforts, v => parseInt(v)) : [],\n      roomTypesFilter: roomTypes.length > 0 ? _.map(roomTypes, v => parseInt(v)) : [],\n    });\n\n  }, []);\n\n  return (\n    <Fragment>\n      <NavTop />\n      <Hidden xsDown>\n        <NavSearch />\n      </Hidden>\n      <RoomIndexContext.Provider value = {{state, dispatch}}>\n        <RoomMapContext.Provider value = {{\n          state: mapState,\n          dispatch: mapDispatch,\n        }}>\n          <GridContainer lg = {10} xs = {11} sm = {11} xl = {9} className = {classes.BgGradient}>\n            <RoomListing />\n          </GridContainer>\n          <Hidden mdUp>\n            <BottomNav />\n          </Hidden>\n        </RoomMapContext.Provider>\n      </RoomIndexContext.Provider>\n    </Fragment>\n  );\n};\n\nexport default compose<IProps, any>(\n  withStyles(styles),\n)(RoomIndex);\n"]},"metadata":{},"sourceType":"module"}