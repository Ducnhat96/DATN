{"ast":null,"code":"import _objectSpread from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ducnhat/Code/x-files/src/components/Bookings/BookingForm.tsx\";\nimport * as act from '@/store/actions/actionTypes';\nimport { axios } from '@/utils/axiosInstance';\nimport { scrollDefault } from '@/utils/elementInteraction';\nimport { AVAILABLE, DEFAULT_DATE_TIME_FORMAT, INTERNET_BANKING, PENDING, WEBSITE_SRC, ONLINE } from '@/utils/store/global';\nimport { withStyles, createStyles, DialogContent } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Collapse from '@material-ui/core/Collapse';\nimport Gray from '@material-ui/core/colors/grey';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport classNames from 'classnames';\nimport { withFormik } from 'formik';\nimport moment from 'moment';\nimport React, { Fragment, useEffect, useRef, useState, useContext } from 'react';\nimport Loadable from 'react-loadable';\nimport { compose } from 'recompose';\nimport * as Yup from 'yup';\nimport { withRouter } from 'react-router';\nimport Orange from '@material-ui/core/colors/orange';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CheckCircle from '@material-ui/icons/CheckCircleOutline';\nimport Whatshot from '@material-ui/icons/Whatshot';\nimport 'moment/locale/vi';\nimport { Link } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport { TransitionCustom } from '@/views/Rooms/BottomNav';\nimport { GlobalContext } from '@/store/context/GlobalContext';\nimport CheckSuccess from '@/components/Loading/CheckSuccess';\nimport { connect } from 'react-redux';\nvar FormValidationSchema = Yup.object().shape({\n  firstName: Yup.string().required('Vui lòng điền tên').min(2, 'Phải có ít nhất 2 ký tự').max(50, 'Tối đa 50 ký tự'),\n  lastName: Yup.string().required('Vui lòng điền họ').min(2, 'Phải có ít nhất 2 ký tự').max(50, 'Tối đa 50 ký tự'),\n  email: Yup.string().required('Vui lòng điền địa chỉ email').email('Email không hợp lệ'),\n  phone: Yup.string().required('Vui lòng điền số điện thoại').min(10, 'Số điện thoại phải từ 10 đến 11 số').max(11, 'Số điện thoại phải từ 10 đến 11 số').test('checkNaN', 'Không được nhập chữ và các kí hiệu đặc biệt', function (value) {\n    return !isNaN(value);\n  }),\n  country: Yup.number().required('Vui lòng chọn thành phố').min(1, 'Vui lòng chọn thành phố'),\n  isSomeOneElse: Yup.boolean(),\n  guestName: Yup.string().when('isSomeOneElse', function (status, schema) {\n    return status ? schema.required('Vui lòng điền tên').min(2, 'Phải có ít nhất 2 ký tự').max(50, 'Tối đa 50 ký tự') : schema;\n  })\n});\n\nvar styles = function styles(theme) {\n  return createStyles({\n    paperCustom: {\n      padding: 25,\n      boxShadow: 'none !important'\n    },\n    paperCustomOuter: {\n      padding: 15,\n      marginBottom: '1rem',\n      background: '#f2fbf7',\n      boxShadow: 'none !important'\n    },\n    paperCustomSetting: {\n      padding: 0,\n      marginBottom: '1rem',\n      background: '#f2fbf7',\n      boxShadow: 'none !important'\n    },\n    paperCustomHot: {\n      padding: 0,\n      marginBottom: '1rem',\n      background: '#fff9f4',\n      boxShadow: 'none !important'\n    },\n    grayPaper: {\n      backgroundColor: Gray[100]\n    },\n    margin24: {\n      marginTop: 24\n    },\n    dividerMargin: {\n      marginTop: 15,\n      marginBottom: 15\n    },\n    buttonBookingInfo: {\n      color: '#FFFFFF',\n      '&:hover': {\n        background: Orange[700]\n      }\n    },\n    root: {\n      padding: 0\n    },\n    dialogTitle: {\n      textAlign: 'right',\n      padding: 0\n    },\n    dialogContent: {\n      padding: '0 16px 16px '\n    }\n  });\n};\n\nvar SimpleLoading = Loadable({\n  loader: function loader() {\n    return import('@/components/Loading/SimpleLoader');\n  },\n  loading: function loading() {\n    return null;\n  }\n}); // @ts-ignore\n\nvar BookingForm = function BookingForm(props) {\n  var classes = props.classes,\n      values = props.values,\n      touched = props.touched,\n      errors = props.errors,\n      handleChange = props.handleChange,\n      handleBlur = props.handleBlur,\n      handleSubmit = props.handleSubmit,\n      isSubmitting = props.isSubmitting,\n      isValidating = props.isValidating,\n      setValues = props.setValues,\n      state = props.state;\n  var room = state.room,\n      price = state.price,\n      profile = state.profile,\n      success = state.success;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isRequest = _useState2[0],\n      toggleRequest = _useState2[1];\n\n  var guestNameRef = useRef(null);\n\n  var _useContext = useContext(GlobalContext),\n      width = _useContext.width,\n      history = _useContext.history;\n\n  useEffect(function () {\n    if (values.isSomeOneElse) {\n      scrollDefault('guest-name');\n      guestNameRef.current.focus();\n    }\n  }, [values.isSomeOneElse]);\n  useEffect(function () {\n    if (isSubmitting && !isValidating) {\n      errors.firstName ? scrollDefault('firstName') : errors.lastName ? scrollDefault('lastName') : errors.email ? scrollDefault('email-lists') : errors.phone ? scrollDefault('phone-number') : errors.country ? scrollDefault('country') : errors.guestName && scrollDefault('guest-name');\n    }\n  }, [isSubmitting && isValidating]);\n\n  var setAdditionalServices = function setAdditionalServices(e) {\n    e.persist();\n    var value = parseInt(e.target.value);\n    var status = e.target.checked;\n    var services = values.additionalServices; // If checkbox ticked then pushed a value to services\n\n    if (status) {\n      services.push(value);\n    } // Filter the services list\n\n\n    var filtered = services.filter(function (val) {\n      return value !== val && status;\n    });\n    setValues(_objectSpread({}, values, {\n      additionalServices: filtered\n    }));\n  };\n\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, room && room.settings !== null ? room.settings.no_booking_cancel == 0 ? React.createElement(Paper, {\n    square: true,\n    className: classes.paperCustomSetting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256\n    },\n    __self: this\n  }, React.createElement(List, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }, moment.unix(price.checkin).subtract(room.settings.days, 'day').diff(moment.now(), 'days') > room.settings.days ? React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(CheckCircle, {\n    style: {\n      fontSize: '36px',\n      color: '#00C855'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        color: '#00C855'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, room.settings.booking_cancel_text),\n    secondary: React.createElement(Typography, {\n      variant: \"body1\",\n      style: {\n        color: '#999'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"\".concat(room.settings.booking_cancel_text, \" tr\\u01B0\\u1EDBc \").concat(moment.unix(price.checkin).subtract(room.settings.days, 'day').locale('vi').format('HH:mm Do MMMM YYYY'))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  })) : React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }, React.createElement(CheckCircle, {\n    style: {\n      fontSize: '36px',\n      color: '#00C855'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273\n    },\n    __self: this\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        color: '#00C855'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Ch\\u1EC9 m\\u1EA5t 2 ph\\xFAt \\u0111\\u1EC3 \\u0111\\u1EB7t ph\\xF2ng\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 274\n    },\n    __self: this\n  })))) : React.createElement(Paper, {\n    square: true,\n    className: classes.paperCustomSetting,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283\n    },\n    __self: this\n  }, React.createElement(List, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 284\n    },\n    __self: this\n  }, React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285\n    },\n    __self: this\n  }, React.createElement(CheckCircle, {\n    style: {\n      fontSize: '36px',\n      color: '#00C855'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 286\n    },\n    __self: this\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        color: '#00C855'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Ch\\u1EC9 m\\u1EA5t 2 ph\\xFAt \\u0111\\u1EC3 \\u0111\\u1EB7t ph\\xF2ng\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 287\n    },\n    __self: this\n  })))) : '', room && room.hot == 1 ? React.createElement(Paper, {\n    square: true,\n    className: classes.paperCustomHot,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297\n    },\n    __self: this\n  }, React.createElement(List, {\n    className: classes.root,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298\n    },\n    __self: this\n  }, React.createElement(ListItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299\n    },\n    __self: this\n  }, React.createElement(Whatshot, {\n    style: {\n      fontSize: '36px',\n      color: Orange[600]\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 300\n    },\n    __self: this\n  }), React.createElement(ListItemText, {\n    primary: React.createElement(Typography, {\n      variant: \"h6\",\n      style: {\n        color: Orange[600]\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, room.hot_txt, \" H\\xE3y ho\\xE0n th\\xE0nh \\u0111\\u1EB7t ch\\u1ED7 s\\u1EDBm\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 302\n    },\n    __self: this\n  })))) : '', React.createElement(Paper, {\n    square: true,\n    className: classes.paperCustomOuter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    square: true,\n    className: classes.paperCustom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 312\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 314\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 315\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 316\n    },\n    __self: this\n  }, \"Th\\xF4ng tin \\u0111\\u1EB7t ph\\xF2ng\"), React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      color: '#b9b8b8'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }, \"T\\xEAn c\\u1EE7a kh\\xE1ch ph\\u1EA3i kh\\u1EDBp v\\u1EDBi t\\xEAn ghi tr\\xEAn gi\\u1EA5y t\\u1EDD tu\\u1EF3 th\\xE2n d\\xF9ng \\u0111\\u1EC3 nh\\u1EADn ph\\xF2ng.\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 323\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    error: !!(touched.firstName && errors.firstName),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 324\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"firstName\",\n    name: \"firstName\",\n    label: \"T\\xEAn\",\n    placeholder: \"V\\xED d\\u1EE5: V\\u0103n A\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.firstName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }), React.createElement(FormHelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 334\n    },\n    __self: this\n  }, touched.firstName ? errors.firstName : ''))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    lg: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 337\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    error: !!(touched.lastName && errors.lastName),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 338\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"lastName\",\n    name: \"lastName\",\n    label: \"H\\u1ECD\",\n    placeholder: \"V\\xED d\\u1EE5: Nguy\\u1EC5n\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.lastName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }), React.createElement(FormHelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }, touched.lastName ? errors.lastName : ''))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    error: !!(errors.email && touched.email),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 352\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"email-booking\",\n    name: \"email\",\n    label: \"Email\",\n    placeholder: \"Ch\\xFAng t\\xF4i s\\u1EBD g\\u1EEDi th\\u01B0 x\\xE1c nh\\u1EADn y\\xEAu c\\u1EA7u \\u0111\\u1EB7t ph\\xF2ng qua \\u0111\\u1ECBa ch\\u1EC9 email n\\xE0y.\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 353\n    },\n    __self: this\n  }), React.createElement(FormHelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 362\n    },\n    __self: this\n  }, touched.email ? errors.email : ''))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    sm: 6,\n    md: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 366\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    error: !!(errors.phone && touched.phone),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"phone-number\",\n    name: \"phone\",\n    label: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\",\n    placeholder: \"V\\xED d\\u1EE5: 09xxxxxxxx\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.phone,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368\n    },\n    __self: this\n  }), React.createElement(FormHelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 377\n    },\n    __self: this\n  }, touched.phone ? errors.phone : ''))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381\n    },\n    __self: this\n  }, React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      id: \"on-work\",\n      name: \"isWork\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      checked: values.isWork,\n      value: \"1\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384\n      },\n      __self: this\n    }),\n    label: \"T\\xF4i \\u0111i c\\xF4ng t\\xE1c\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 382\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 397\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 398\n    },\n    __self: this\n  }, React.createElement(FormControlLabel, {\n    control: React.createElement(Checkbox, {\n      id: \"booking-for-someone\",\n      name: \"isSomeOneElse\",\n      onChange: handleChange,\n      onBlur: handleBlur,\n      checked: values.isSomeOneElse,\n      value: \"1\",\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }),\n    label: \"T\\xF4i \\u0111\\u1EB7t ph\\xF2ng cho ng\\u01B0\\u1EDDi kh\\xE1c\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399\n    },\n    __self: this\n  }))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415\n    },\n    __self: this\n  }, React.createElement(Collapse, {\n    in: values.isSomeOneElse,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    className: classNames(classes.paperCustom, classes.grayPaper),\n    elevation: 0,\n    square: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 417\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 16,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"h6\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 423\n    },\n    __self: this\n  }, \"Th\\xF4ng tin ng\\u01B0\\u1EDDi nh\\u1EADn\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 427\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    error: !!(errors.guestName && touched.guestName),\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"guest-name\",\n    name: \"guestName\",\n    inputRef: guestNameRef,\n    onChange: handleChange,\n    label: \"H\\u1ECD v\\xE0 t\\xEAn\",\n    placeholder: \"V\\xED d\\u1EE5: Nguy\\u1EC5n V\\u0103n A\",\n    onBlur: handleBlur,\n    value: values.guestName,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429\n    },\n    __self: this\n  }), React.createElement(FormHelperText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439\n    },\n    __self: this\n  }, touched.guestName ? errors.guestName : ''))))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447\n    },\n    __self: this\n  }, React.createElement(Button, {\n    name: \"addition-services\",\n    color: \"primary\",\n    style: {\n      paddingLeft: 0\n    },\n    onClick: function onClick() {\n      return toggleRequest(!isRequest);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 448\n    },\n    __self: this\n  }, isRequest ? React.createElement(RemoveIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }) : React.createElement(AddIcon, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 450\n    },\n    __self: this\n  }), \"Y\\xEAu c\\u1EA7u \\u0111\\u1EB7c bi\\u1EC7t\")), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 454\n    },\n    __self: this\n  }, React.createElement(Collapse, {\n    in: isRequest,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 455\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: 24,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 456\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 457\n    },\n    __self: this\n  }), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 460\n    },\n    __self: this\n  }, React.createElement(FormControl, {\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 461\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    variant: \"outlined\",\n    id: \"additional-note\",\n    name: \"additionalNote\",\n    multiline: true,\n    rows: 5,\n    label: \"Y\\xEAu c\\u1EA7u kh\\xE1c\",\n    placeholder: \"V\\xED d\\u1EE5: T\\xF4i c\\xF3 th\\u1EC3 t\\u1EDBi s\\u1EDBm h\\u01A1n \\u0111\\u01B0\\u1EE3c kh\\xF4ng?\",\n    onChange: handleChange,\n    onBlur: handleBlur,\n    value: values.additionalNote,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462\n    },\n    __self: this\n  })))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 478\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 480\n    },\n    __self: this\n  }, React.createElement(Button, {\n    variant: \"contained\",\n    name: \"confirm-information\",\n    size: \"large\",\n    color: \"primary\",\n    disabled: !room || isSubmitting,\n    type: \"submit\",\n    className: classes.buttonBookingInfo // onClick = {() => ConfirmBooking(true)}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 481\n    },\n    __self: this\n  }, room && !isSubmitting ? 'Xác nhận thông tin' : React.createElement(SimpleLoading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 490\n    },\n    __self: this\n  }))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 495\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"flex-end\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 496\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"subtitle2\",\n    style: {\n      color: '#b3b3b3'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 498\n    },\n    __self: this\n  }, \"B\\u1EA1n v\\u1EABn ch\\u01B0a ph\\u1EA3i thanh to\\xE1n \\u1EDF b\\u01B0\\u1EDBc n\\xE0y\"))))))), React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 507\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"flex-start\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 508\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 509\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    variant: \"body2\",\n    style: {\n      padding: '15px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 510\n    },\n    __self: this\n  }, \"Khi g\\u1EEDi y\\xEAu c\\u1EA7u \\u0111\\u1EB7t ch\\u1ED7 n\\xE0y, qu\\xFD kh\\xE1ch x\\xE1c nh\\u1EADn r\\u1EB1ng qu\\xFD kh\\xE1ch \\u0111\\xE3 \\u0111\\u1ECDc v\\xE0 \\u0111\\u1ED3ng \\xFD v\\u1EDBi c\\xE1c\", React.createElement(Link, {\n    to: \"/terms-and-conditions\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 512\n    },\n    __self: this\n  }, \" \\u0110i\\u1EC1u kho\\u1EA3n v\\xE0 \\u0111i\\u1EC1u ki\\u1EC7n \"), \"v\\xE0 Ch\\xEDnh s\\xE1ch quy\\u1EC1n ri\\xEAng t\\u01B0 c\\u1EE7a VN-Homestay.vn.\")))), React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 518\n    },\n    __self: this\n  }, room ? React.createElement(Dialog, {\n    TransitionComponent: TransitionCustom,\n    keepMounted: true,\n    disableBackdropClick: true,\n    disableEscapeKeyDown: true,\n    scroll: \"body\",\n    fullScreen: width === 'xs',\n    maxWidth: \"sm\",\n    open: props.statusBooking.stateOfBooking // onClose = {() => props.handleDialog(false)}\n    ,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 520\n    },\n    __self: this\n  }, React.createElement(DialogContent, {\n    classes: {\n      root: classes.dialogContent\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 531\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 532\n    },\n    __self: this\n  }, React.createElement(CheckSuccess, {\n    width: 250,\n    height: 250,\n    message: room.instant_book === 0 ? 'Đơn đặt phòng của bạn đã được gửi đến chủ nhà để chờ xác nhận.Nếu phòng còn trống, chúng tôi sẽ gửi thông tin thanh toán tới email của bạn' : 'Xin chờ trong giây lát, chúng tôi sẽ chuyển hướng đến trang thanh toán',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 533\n    },\n    __self: this\n  }), room.instant_book === 0 ? React.createElement(Button, {\n    variant: \"contained\",\n    name: \"confirm_information\",\n    color: \"primary\",\n    disabled: !room || isSubmitting,\n    type: \"submit\",\n    className: classes.buttonBookingInfo,\n    onClick: function onClick() {\n      return history.push(\"/\");\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539\n    },\n    __self: this\n  }, room && !isSubmitting ? 'Xác nhận' : React.createElement(SimpleLoading, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 547\n    },\n    __self: this\n  })) : ''))) : '')));\n};\n\nvar FormMilk = withFormik({\n  mapPropsToValues: function mapPropsToValues(props) {\n    var profile = props.state.profile;\n    var fullName = profile ? profile.name : '';\n    var fName = fullName.split(' ').slice(1).join(' ');\n    var lName = fullName.split(' ').slice(0, 1).join(' ');\n    return {\n      firstName: fName,\n      lastName: lName,\n      email: profile ? profile.email : '',\n      phone: profile ? profile.phone : '',\n      country: 1,\n      guestName: '',\n      isSomeOneElse: false,\n      additionalNote: '',\n      additionalServices: [],\n      isWork: false\n    };\n  },\n  enableReinitialize: true,\n  handleSubmit: function handleSubmit(values, bags) {\n    var _bags$props = bags.props,\n        state = _bags$props.state,\n        history = _bags$props.history;\n    var room = state.room,\n        price = state.price,\n        success = state.success;\n    var data = {\n      name: \"\".concat(values.lastName, \" \").concat(values.firstName),\n      email: values.email,\n      name_received: values.guestName,\n      room_id: price.room_id,\n      coupon: state.coupon,\n      checkin: moment.unix(price.checkin).format(DEFAULT_DATE_TIME_FORMAT),\n      checkout: moment.unix(price.checkout).format(DEFAULT_DATE_TIME_FORMAT),\n      booking_type: price.booking_type,\n      phone: values.phone.replace(/\\s/g, ''),\n      number_of_guests: price.number_of_guests,\n      note: values.additionalNote,\n      payment_method: INTERNET_BANKING,\n      payment_status: PENDING,\n      source: WEBSITE_SRC,\n      status: AVAILABLE,\n      type: ONLINE,\n      booking_purpose: values.isWork ? 1 : 0\n    };\n    axios.post('bookings', data).then(function (res) {\n      var data = res.data.data;\n      var url = \"/payment/invoice/\".concat(data.uuid);\n\n      if (room.instant_book === 0) {\n        bags.props.handleDialog(true);\n      } else {\n        bags.props.handleDialog(true);\n        history.push(url);\n      }\n\n      bags.setSubmitting(false);\n    }).catch(function (e) {\n      history.push(\"/room/\".concat(data.room_id)); // alert('catch');\n\n      bags.setSubmitting(false);\n    });\n  },\n  validationSchema: function validationSchema() {\n    return FormValidationSchema;\n  },\n  validateOnChange: false\n});\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    statusBooking: state.booking\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    handleDialog: function handleDialog(status) {\n      return dispatch({\n        type: act.STATUS_OF_BOOKING,\n        statusBooking: status\n      });\n    }\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withRouter, FormMilk, withStyles(styles))(BookingForm);","map":{"version":3,"sources":["/home/ducnhat/Code/x-files/src/components/Bookings/BookingForm.tsx"],"names":["act","axios","scrollDefault","AVAILABLE","DEFAULT_DATE_TIME_FORMAT","INTERNET_BANKING","PENDING","WEBSITE_SRC","ONLINE","withStyles","createStyles","DialogContent","Button","Checkbox","Collapse","Gray","FormControl","FormControlLabel","FormHelperText","Grid","Paper","Typography","AddIcon","RemoveIcon","classNames","withFormik","moment","React","Fragment","useEffect","useRef","useState","useContext","Loadable","compose","Yup","withRouter","Orange","List","ListItem","ListItemText","CheckCircle","Whatshot","Link","TextField","Dialog","TransitionCustom","GlobalContext","CheckSuccess","connect","FormValidationSchema","object","shape","firstName","string","required","min","max","lastName","email","phone","test","value","isNaN","country","number","isSomeOneElse","boolean","guestName","when","status","schema","styles","theme","paperCustom","padding","boxShadow","paperCustomOuter","marginBottom","background","paperCustomSetting","paperCustomHot","grayPaper","backgroundColor","margin24","marginTop","dividerMargin","buttonBookingInfo","color","root","dialogTitle","textAlign","dialogContent","SimpleLoading","loader","loading","BookingForm","props","classes","values","touched","errors","handleChange","handleBlur","handleSubmit","isSubmitting","isValidating","setValues","state","room","price","profile","success","isRequest","toggleRequest","guestNameRef","width","history","current","focus","setAdditionalServices","e","persist","parseInt","target","checked","services","additionalServices","push","filtered","filter","val","settings","no_booking_cancel","unix","checkin","subtract","days","diff","now","fontSize","booking_cancel_text","locale","format","hot","hot_txt","isWork","paddingLeft","additionalNote","statusBooking","stateOfBooking","instant_book","FormMilk","mapPropsToValues","fullName","name","fName","split","slice","join","lName","enableReinitialize","bags","data","name_received","room_id","coupon","checkout","booking_type","replace","number_of_guests","note","payment_method","payment_status","source","type","booking_purpose","post","then","res","url","uuid","handleDialog","setSubmitting","catch","validationSchema","validateOnChange","mapStateToProps","booking","mapDispatchToProps","dispatch","STATUS_OF_BOOKING"],"mappings":"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","sourcesContent":["import { ThemeCustom } from '@/components/Theme/Theme';\nimport { FormikProps } from '@/types/Interface/Formik';\nimport { BookingCreateReq } from '@/types/Requests/Booking/BookingRequests';\nimport * as act from '@/store/actions/actionTypes';\nimport { axios } from '@/utils/axiosInstance';\nimport { scrollDefault } from '@/utils/elementInteraction';\nimport {\n  AVAILABLE,\n  DEFAULT_DATE_TIME_FORMAT,\n  INTERNET_BANKING,\n  PENDING,\n  WEBSITE_SRC,\n  ONLINE,\n} from '@/utils/store/global';\nimport { withStyles, createStyles, DialogContent } from '@material-ui/core';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Collapse from '@material-ui/core/Collapse';\nimport Gray from '@material-ui/core/colors/grey';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormControlLabel from '@material-ui/core/FormControlLabel/FormControlLabel';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\nimport classNames from 'classnames';\nimport { withFormik, FormikBag } from 'formik';\nimport moment from 'moment';\nimport React, {\n  Fragment,\n  useEffect,\n  useRef,\n  useState,\n  ChangeEvent,\n  ComponentType,\n  useContext,\n} from 'react';\nimport Loadable from 'react-loadable';\nimport { compose } from 'recompose';\nimport * as Yup from 'yup';\nimport { StringSchema } from 'yup';\nimport {\n  BookingFormState,\n} from '@/store/context/Booking/BookingFormContext';\nimport { AxiosRes } from '@/types/Requests/ResponseTemplate';\nimport { BookingIndexRes } from '@/types/Requests/Booking/BookingResponses';\nimport { withRouter, RouteComponentProps } from 'react-router';\nimport Orange from '@material-ui/core/colors/orange';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport CheckCircle from '@material-ui/icons/CheckCircleOutline';\nimport Whatshot from '@material-ui/icons/Whatshot';\nimport 'moment/locale/vi';\nimport { Link } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport Dialog from '@material-ui/core/Dialog';\nimport { TransitionCustom } from '@/views/Rooms/BottomNav';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { IGlobalContext, GlobalContext } from '@/store/context/GlobalContext';\nimport CheckSuccess from '@/components/Loading/CheckSuccess';\nimport { SearchFilterAction } from '@/store/reducers/searchFilter';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { ReducersType, ReducersList } from '@/store/reducers';\nimport { BookingAction, BookingState } from '@/store/reducers/booking';\n\ninterface IFormikValues {\n  firstName: string;\n  lastName: string;\n  email: string;\n  phone: string;\n  country: number;\n  guestName: string;\n  isSomeOneElse: boolean;\n  additionalNote: string;\n  additionalServices: Array<number>;\n  isWork: boolean\n}\n\ninterface IProps {\n  classes?: any;\n  state: BookingFormState;\n  statusBooking: BookingState;\n}\n\ninterface DispatchLocal {\n  handleDialog(status: boolean): any\n}\n\ninterface ILocalProps extends IProps, FormikProps<IFormikValues>, DispatchLocal, RouteComponentProps {\n}\n\nconst FormValidationSchema = Yup.object().shape({\n  firstName: Yup.string()\n    .required('Vui lòng điền tên')\n    .min(2, 'Phải có ít nhất 2 ký tự')\n    .max(50, 'Tối đa 50 ký tự'),\n  lastName: Yup.string()\n    .required('Vui lòng điền họ')\n    .min(2, 'Phải có ít nhất 2 ký tự')\n    .max(50, 'Tối đa 50 ký tự'),\n  email: Yup.string()\n    .required('Vui lòng điền địa chỉ email')\n    .email('Email không hợp lệ'),\n  phone: Yup.string()\n    .required('Vui lòng điền số điện thoại')\n    .min(10, 'Số điện thoại phải từ 10 đến 11 số')\n    .max(11, 'Số điện thoại phải từ 10 đến 11 số')\n    .test('checkNaN', 'Không được nhập chữ và các kí hiệu đặc biệt', value => !isNaN(value))\n  ,\n  country: Yup.number()\n    .required('Vui lòng chọn thành phố')\n    .min(1, 'Vui lòng chọn thành phố'),\n  isSomeOneElse: Yup.boolean(),\n  guestName: Yup.string().when('isSomeOneElse', (status: boolean, schema: StringSchema) => {\n    return status\n      ? schema.required('Vui lòng điền tên')\n        .min(2, 'Phải có ít nhất 2 ký tự')\n        .max(50, 'Tối đa 50 ký tự')\n      : schema;\n  }),\n});\n\nconst styles: any = (theme: ThemeCustom) => createStyles({\n  paperCustom: {\n    padding: 25,\n    boxShadow: 'none !important',\n  },\n  paperCustomOuter: {\n    padding: 15,\n    marginBottom: '1rem',\n    background: '#f2fbf7',\n    boxShadow: 'none !important',\n  },\n  paperCustomSetting: {\n    padding: 0,\n    marginBottom: '1rem',\n    background: '#f2fbf7',\n    boxShadow: 'none !important',\n  },\n  paperCustomHot: {\n    padding: 0,\n    marginBottom: '1rem',\n    background: '#fff9f4',\n    boxShadow: 'none !important',\n  },\n  grayPaper: {\n    backgroundColor: Gray[100],\n  },\n  margin24: {\n    marginTop: 24,\n  },\n  dividerMargin: {\n    marginTop: 15,\n    marginBottom: 15,\n  },\n  buttonBookingInfo: {\n    color: '#FFFFFF',\n    '&:hover': {\n      background: Orange[700],\n    },\n  },\n  root: {\n    padding: 0,\n  },\n  dialogTitle: {\n    textAlign: 'right',\n    padding: 0,\n  },\n  dialogContent: {\n    padding: '0 16px 16px ',\n  },\n});\n\nconst SimpleLoading = Loadable({\n  loader: (): Promise<any> => import('@/components/Loading/SimpleLoader'),\n  loading: () => null,\n});\n\n\n// @ts-ignore\nconst BookingForm: ComponentType<IProps> = (props: ILocalProps) => {\n  const {\n    classes,\n    values,\n    touched,\n    errors,\n    handleChange,\n    handleBlur,\n    handleSubmit,\n    isSubmitting,\n    isValidating,\n    setValues,\n    state,\n  } = props;\n\n  const { room, price, profile, success } = state;\n  const [isRequest, toggleRequest] = useState<boolean>(false);\n  const guestNameRef = useRef<any>(null);\n  const { width, history } = useContext<IGlobalContext>(GlobalContext);\n\n  useEffect(() => {\n    if (values.isSomeOneElse) {\n      scrollDefault('guest-name');\n      guestNameRef.current.focus();\n    }\n\n  }, [values.isSomeOneElse]);\n\n  useEffect(() => {\n    if (isSubmitting && !isValidating) {\n      errors.firstName ? scrollDefault('firstName') : (\n        errors.lastName ? scrollDefault('lastName') : (\n          errors.email ? scrollDefault('email-lists') : (\n            errors.phone ? scrollDefault('phone-number') : (\n              errors.country ? scrollDefault('country') : (\n                errors.guestName && scrollDefault('guest-name')\n              )\n            )\n          )\n        )\n      );\n    }\n  }, [isSubmitting && isValidating]);\n\n  const setAdditionalServices = (e: ChangeEvent<HTMLInputElement>) => {\n    e.persist();\n    let value: number = parseInt(e.target.value);\n    let status: boolean = e.target.checked;\n    let services: number[] = values.additionalServices;\n\n    // If checkbox ticked then pushed a value to services\n    if (status) {\n      services.push(value);\n    }\n\n    // Filter the services list\n    let filtered: number[] = services.filter((val) => {\n      return (value !== val && status);\n    });\n\n    setValues({\n      ...values,\n      additionalServices: filtered,\n    });\n  };\n\n  return (\n    <Fragment>\n      {(room && room!.settings !== null) ? (room!.settings.no_booking_cancel == 0 ?\n        (<Paper square className={classes.paperCustomSetting}>\n          <List className={classes.root}>\n            {\n              (moment.unix(price!.checkin).subtract(room!.settings.days, 'day').diff(moment.now(), 'days') > room!.settings.days) ?\n                (<ListItem>\n                  <CheckCircle style={{ fontSize: '36px', color: '#00C855' }} />\n                  <ListItemText\n                    primary={\n                      <Typography variant='h6'\n                        style={{ color: '#00C855' }}>{room!.settings.booking_cancel_text}</Typography>\n                    }\n                    secondary={\n                      <Typography variant='body1'\n                        style={{ color: '#999' }}>{`${room!.settings.booking_cancel_text} trước ${moment.unix(price!.checkin).subtract(room!.settings.days, 'day').locale('vi').format('HH:mm Do MMMM YYYY')}`}</Typography>\n                    } />\n                </ListItem>)\n                : (<ListItem>\n                  <CheckCircle style={{ fontSize: '36px', color: '#00C855' }} />\n                  <ListItemText\n                    primary={\n                      <Typography variant='h6' style={{ color: '#00C855' }}>Chỉ mất 2 phút để đặt phòng</Typography>\n                    }\n                  />\n                </ListItem>)\n            }\n          </List>\n        </Paper>) : (\n          <Paper square className={classes.paperCustomSetting}>\n            <List className={classes.root}>\n              <ListItem>\n                <CheckCircle style={{ fontSize: '36px', color: '#00C855' }} />\n                <ListItemText\n                  primary={\n                    <Typography variant='h6' style={{ color: '#00C855' }}>Chỉ mất 2 phút để đặt phòng</Typography>\n                  }\n                />\n              </ListItem>\n            </List>\n          </Paper>)) : ''}\n\n      {(room && room!.hot == 1) ?\n        (<Paper square className={classes.paperCustomHot}>\n          <List className={classes.root}>\n            <ListItem>\n              <Whatshot style={{ fontSize: '36px', color: Orange[600] }} />\n\n              <ListItemText\n                primary={\n                  <Typography variant='h6' style={{ color: Orange[600] }}>{room!.hot_txt} Hãy hoàn thành đặt chỗ\n                                                                                            sớm</Typography>\n                } />\n            </ListItem>\n          </List>\n        </Paper>) : ''}\n\n      <Paper square className={classes.paperCustomOuter}>\n        <Paper square className={classes.paperCustom}>\n          <form onSubmit={handleSubmit}>\n            <Grid container spacing={16}>\n              <Grid item xs={12}>\n                <Typography variant='h6'>\n                  Thông tin đặt phòng\n                </Typography>\n                <Typography variant='body2' style={{ color: '#b9b8b8' }}>\n                  Tên của khách phải khớp với tên ghi trên giấy tờ tuỳ thân dùng để nhận phòng.\n                </Typography>\n              </Grid>\n              <Grid item xs={12} lg={6}>\n                <FormControl error={!!(touched!.firstName && errors.firstName)} fullWidth>\n                  <TextField variant='outlined'\n                    id='firstName'\n                    name='firstName'\n                    label='Tên'\n                    placeholder='Ví dụ: Văn A'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.firstName}\n                  />\n                  <FormHelperText>{touched.firstName ? errors.firstName : ''}</FormHelperText>\n                </FormControl>\n              </Grid>\n              <Grid item xs={12} lg={6}>\n                <FormControl error={!!(touched!.lastName && errors.lastName)} fullWidth>\n                  <TextField variant='outlined'\n                    id='lastName'\n                    name='lastName'\n                    label='Họ'\n                    placeholder='Ví dụ: Nguyễn'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.lastName}\n                  />\n                  <FormHelperText>{touched.lastName ? errors.lastName : ''}</FormHelperText>\n                </FormControl>\n              </Grid>\n              <Grid item xs={12}>\n                <FormControl error={!!(errors.email && touched.email)} fullWidth>\n                  <TextField variant='outlined'\n                    id='email-booking'\n                    name='email'\n                    label='Email'\n                    placeholder='Chúng tôi sẽ gửi thư xác nhận yêu cầu đặt phòng qua địa chỉ email này.'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.email}\n                  />\n                  <FormHelperText>{touched.email ? errors.email : ''}</FormHelperText>\n                </FormControl>\n              </Grid>\n\n              <Grid item xs={12} sm={6} md={6}>\n                <FormControl error={!!(errors.phone && touched!.phone)} fullWidth>\n                  <TextField variant='outlined'\n                    id='phone-number'\n                    name='phone'\n                    label='Số điện thoại'\n                    placeholder='Ví dụ: 09xxxxxxxx'\n                    onChange={handleChange}\n                    onBlur={handleBlur}\n                    value={values.phone}\n                  />\n                  <FormHelperText>{touched.phone ? errors.phone : ''}</FormHelperText>\n                </FormControl>\n              </Grid>\n              <Grid item xs={6}>\n                <FormControl>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        id='on-work'\n                        name='isWork'\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        checked={values.isWork}\n                        value='1'\n                        color='primary'\n                      />\n                    }\n                    label='Tôi đi công tác' />\n                </FormControl>\n              </Grid>\n              <Grid item xs={6}>\n                <FormControl>\n                  <FormControlLabel\n                    control={\n                      <Checkbox\n                        id='booking-for-someone'\n                        name='isSomeOneElse'\n                        onChange={handleChange}\n                        onBlur={handleBlur}\n                        checked={values.isSomeOneElse}\n                        value='1'\n                        color='primary'\n                      />\n                    }\n                    label='Tôi đặt phòng cho người khác' />\n                </FormControl>\n              </Grid>\n              {/*Booking for another one section*/}\n              <Grid item xs={12}>\n                <Collapse in={values.isSomeOneElse}>\n                  <Paper className={\n                    classNames(classes.paperCustom, classes.grayPaper)\n                  }\n                    elevation={0} square>\n                    <Grid container spacing={16}>\n                      <Grid item xs={12}>\n                        <Typography variant='h6'>\n                          Thông tin người nhận\n                        </Typography>\n                      </Grid>\n                      <Grid item xs={12}>\n                        <FormControl error={!!(errors.guestName && touched.guestName)} fullWidth>\n                          <TextField variant='outlined'\n                            id='guest-name'\n                            name='guestName'\n                            inputRef={guestNameRef}\n                            onChange={handleChange}\n                            label='Họ và tên'\n                            placeholder='Ví dụ: Nguyễn Văn A'\n                            onBlur={handleBlur}\n                            value={values.guestName}\n                          />\n                          <FormHelperText>{touched.guestName ? errors.guestName : ''}</FormHelperText>\n                        </FormControl>\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                </Collapse>\n              </Grid>\n\n              <Grid item xs={12}>\n                <Button name='addition-services' color='primary' style={{ paddingLeft: 0 }}\n                  onClick={() => toggleRequest(!isRequest)}>\n                  {isRequest ? <RemoveIcon /> : <AddIcon />}\n                  Yêu cầu đặc biệt\n                </Button>\n              </Grid>\n              <Grid item xs={12}>\n                <Collapse in={isRequest}>\n                  <Grid container spacing={24}>\n                    <Grid item xs={12}>\n\n                    </Grid>\n                    <Grid item xs={12}>\n                      <FormControl fullWidth>\n                        <TextField variant='outlined'\n                          id='additional-note'\n                          name='additionalNote'\n                          multiline\n                          rows={5}\n                          label='Yêu cầu khác'\n                          placeholder='Ví dụ: Tôi có thể tới sớm hơn được không?'\n                          onChange={handleChange}\n                          onBlur={handleBlur}\n                          value={values.additionalNote}\n                        />\n                      </FormControl>\n                    </Grid>\n                  </Grid>\n                </Collapse>\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container justify='flex-end'>\n                  <Grid item>\n                    <Button variant='contained'\n                      name='confirm-information'\n                      size='large'\n                      color='primary'\n                      disabled={!room || isSubmitting}\n                      type='submit'\n                      className={classes.buttonBookingInfo}\n                    // onClick = {() => ConfirmBooking(true)}\n                    >\n                      {(room && !isSubmitting) ? 'Xác nhận thông tin' : <SimpleLoading />}\n                    </Button>\n                  </Grid>\n                </Grid>\n              </Grid>\n              <Grid item xs={12}>\n                <Grid container justify='flex-end'>\n                  <Grid item>\n                    <Typography variant='subtitle2' style={{ color: '#b3b3b3' }}>\n                      Bạn vẫn chưa phải thanh toán ở bước này\n                    </Typography>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </form>\n        </Paper>\n        <Grid item xs={12}>\n          <Grid container justify='flex-start'>\n            <Grid item>\n              <Typography variant='body2' style={{ padding: '15px' }}>\n                Khi gửi yêu cầu đặt chỗ này, quý khách xác nhận rằng quý khách đã đọc và đồng ý với các\n                <Link to='/terms-and-conditions'> Điều khoản và điều kiện </Link>\n                và Chính sách quyền riêng tư của VN-Homestay.vn.\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Fragment>\n          {room ? (\n            <Dialog\n              TransitionComponent={TransitionCustom}\n              keepMounted\n              disableBackdropClick={true}\n              disableEscapeKeyDown={true}\n              scroll='body'\n              fullScreen={width === 'xs'}\n              maxWidth='sm'\n              open={props.statusBooking.stateOfBooking}\n            // onClose = {() => props.handleDialog(false)}\n            >\n              <DialogContent classes={{ root: classes.dialogContent }}>\n                <div style={{ textAlign: 'center' }}>\n                  <CheckSuccess width={250} height={250}\n                    message={room!.instant_book === 0 ?\n                      'Đơn đặt phòng của bạn đã được gửi đến chủ nhà để chờ xác nhận.Nếu phòng còn trống, chúng tôi sẽ gửi thông tin thanh toán tới email của bạn' :\n                      'Xin chờ trong giây lát, chúng tôi sẽ chuyển hướng đến trang thanh toán'}\n                  />\n                  {room!.instant_book === 0 ? (\n                    <Button variant='contained'\n                      name='confirm_information'\n                      color='primary'\n                      disabled={!room || isSubmitting}\n                      type='submit'\n                      className={classes.buttonBookingInfo}\n                      onClick={() => history.push(`/`)}\n                    >\n                      {(room && !isSubmitting) ? 'Xác nhận' : <SimpleLoading />}\n                    </Button>\n                  ) : ''}\n                </div>\n              </DialogContent>\n            </Dialog>\n          ) : ''}\n        </Fragment>\n      </Paper>\n    </Fragment>\n  );\n};\n\nconst FormMilk = withFormik({\n\n  mapPropsToValues: (props): IFormikValues => {\n    const { profile } = props.state;\n    let fullName = profile ? profile.name : '';\n    let fName = fullName.split(' ').slice(1).join(' ');\n    let lName = fullName.split(' ').slice(0, 1).join(' ');\n\n    return {\n      firstName: fName,\n      lastName: lName,\n      email: profile ? profile.email : '',\n      phone: profile ? profile.phone : '',\n      country: 1,\n      guestName: '',\n      isSomeOneElse: false,\n      additionalNote: '',\n      additionalServices: [],\n      isWork: false,\n    };\n  },\n\n  enableReinitialize: true,\n\n  handleSubmit: (values: IFormikValues, bags: FormikBag<ILocalProps, IFormikValues>) => {\n    const { state, history } = bags.props;\n\n    const { room, price, success } = state;\n\n    const data: BookingCreateReq = {\n      name: `${values.lastName} ${values.firstName}`,\n      email: values.email,\n      name_received: values.guestName,\n      room_id: price!.room_id,\n      coupon: state.coupon,\n      checkin: moment.unix(price!.checkin).format(DEFAULT_DATE_TIME_FORMAT),\n      checkout: moment.unix(price!.checkout).format(DEFAULT_DATE_TIME_FORMAT),\n      booking_type: price!.booking_type,\n      phone: values.phone.replace(/\\s/g, ''),\n      number_of_guests: price!.number_of_guests,\n      note: values.additionalNote,\n      payment_method: INTERNET_BANKING,\n      payment_status: PENDING,\n      source: WEBSITE_SRC,\n      status: AVAILABLE,\n      type: ONLINE,\n      booking_purpose: values.isWork ? 1 : 0,\n    };\n\n    axios.post('bookings', data).then((res: AxiosRes<BookingIndexRes>) => {\n      const data = res.data.data;\n      let url = `/payment/invoice/${data.uuid}`;\n\n      if (room!.instant_book === 0) {\n        bags.props.handleDialog(true);\n      } else {\n        bags.props.handleDialog(true);\n        history.push(url);\n      }\n      bags.setSubmitting(false);\n    }).catch(e => {\n      history.push(`/room/${data.room_id}`);\n      // alert('catch');\n      bags.setSubmitting(false);\n    });\n  },\n\n  validationSchema: () => FormValidationSchema,\n  validateOnChange: false,\n});\n\nconst mapStateToProps = (state: ReducersList) => {\n  return {\n    statusBooking: state.booking,\n  };\n};\nconst mapDispatchToProps = (dispatch: Dispatch<BookingAction>) => {\n  return {\n    handleDialog: (status: boolean) =>\n      dispatch({\n        type: act.STATUS_OF_BOOKING,\n        statusBooking: status,\n      }),\n  };\n};\n\nexport default compose<IProps, any>(\n  connect(mapStateToProps, mapDispatchToProps),\n  withRouter,\n  FormMilk,\n  withStyles(styles),\n)(BookingForm);\n"]},"metadata":{},"sourceType":"module"}