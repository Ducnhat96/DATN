{"ast":null,"code":"import _slicedToArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/ducnhat/Code/x-files/src/views/Bookings/Form.tsx\";\nimport BookingForm from '@/components/Bookings/BookingForm';\nimport BookingInfoDetail from '@/components/Bookings/BookingInfoDetail';\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridContainer from '@/layouts/Grid/Container';\nimport { createStyles, withStyles } from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport qs from 'query-string';\nimport React, { Fragment, useEffect, useReducer, useContext } from 'react';\nimport { compose } from 'recompose';\nimport { BookingFormContext, BookingFormReducer, BookingFormStateInit, priceCalculate, getRoomBookingForm, getProfile } from '@/store/context/Booking/BookingFormContext';\nimport { GlobalContext } from '@/store/context/GlobalContext';\nimport Grey from '@material-ui/core/colors/grey';\n\nvar styles = function styles(theme) {\n  return createStyles({\n    marginContainer: {\n      marginTop: 20\n    },\n    container: {\n      minHeight: '100vh',\n      backgroundColor: Grey[200]\n    }\n  });\n};\n\nvar Form = function Form(props) {\n  var classes = props.classes,\n      location = props.location;\n  var params = qs.parse(location.search);\n\n  var _useReducer = useReducer(BookingFormReducer, BookingFormStateInit),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useContext = useContext(GlobalContext),\n      history = _useContext.history,\n      width = _useContext.width;\n\n  var isWide = width === 'lg' || width === 'xl' || width === 'md';\n  var xsMode = width === 'xs';\n  useEffect(function () {\n    Promise.all([priceCalculate(params), getRoomBookingForm(params), getProfile()]).then(function (res) {\n      var _res = _slicedToArray(res, 3),\n          price = _res[0],\n          room = _res[1],\n          profile = _res[2];\n\n      dispatch({\n        type: 'setProfile',\n        profile: profile.data\n      });\n      dispatch({\n        type: 'setRoom',\n        room: room.data,\n        price: price.data\n      });\n    }).catch(function (err) {\n      history.push('/404');\n    });\n  }, [location]);\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(NavTop, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }), React.createElement(BookingFormContext.Provider, {\n    value: {\n      state: state,\n      dispatch: dispatch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, React.createElement(GridContainer, {\n    xs: 11,\n    sm: 11,\n    xl: 7,\n    lg: 10,\n    md: 11,\n    className: classes.container,\n    spacing: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    spacing: xsMode ? 0 : 8,\n    className: classes.marginContainer,\n    direction: isWide ? 'row' : 'column-reverse',\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xl: 8,\n    lg: 8,\n    md: 7,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(BookingForm, {\n    state: state,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    xl: 4,\n    lg: 4,\n    md: 5,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, React.createElement(BookingInfoDetail, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }))))));\n};\n\nexport default compose(withStyles(styles))(Form);","map":{"version":3,"sources":["/home/ducnhat/Code/x-files/src/views/Bookings/Form.tsx"],"names":["BookingForm","BookingInfoDetail","NavTop","GridContainer","createStyles","withStyles","Grid","qs","React","Fragment","useEffect","useReducer","useContext","compose","BookingFormContext","BookingFormReducer","BookingFormStateInit","priceCalculate","getRoomBookingForm","getProfile","GlobalContext","Grey","styles","theme","marginContainer","marginTop","container","minHeight","backgroundColor","Form","props","classes","location","params","parse","search","state","dispatch","history","width","isWide","xsMode","Promise","all","then","res","price","room","profile","type","data","catch","err","push"],"mappings":"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","sourcesContent":["import BookingForm from '@/components/Bookings/BookingForm';\nimport BookingInfoDetail from '@/components/Bookings/BookingInfoDetail';\nimport {ThemeCustom} from '@/components/Theme/Theme';\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridContainer from '@/layouts/Grid/Container';\nimport {createStyles, withStyles} from '@material-ui/core';\nimport Grid from '@material-ui/core/Grid/Grid';\nimport qs from 'query-string';\nimport React, {Fragment, FunctionComponent, useEffect, useReducer, useContext} from 'react';\nimport {RouteProps, RouterProps} from 'react-router';\nimport {compose} from 'recompose';\nimport {\n  BookingFormContext,\n  BookingFormState,\n  BookingFormAction,\n  BookingFormReducer,\n  BookingFormStateInit,\n  IBookingFormParams,\n  priceCalculate,\n  getRoomBookingForm,\n  getProfile,\n} from '@/store/context/Booking/BookingFormContext';\nimport {IGlobalContext, GlobalContext} from '@/store/context/GlobalContext';\nimport Grey from '@material-ui/core/colors/grey';\n\ninterface IProps extends RouteProps, RouterProps {\n  classes: any;\n}\n\nconst styles: any = (theme: ThemeCustom) => createStyles({\n  marginContainer: {\n    marginTop: 20,\n  },\n  container: {\n    minHeight: '100vh',\n    backgroundColor: Grey[200],\n  },\n});\n\nconst Form: FunctionComponent<IProps> = props => {\n  const {\n          classes,\n          location,\n        } = props;\n\n  const params: IBookingFormParams | any = qs.parse(location!.search);\n  const [state, dispatch]                = useReducer<BookingFormState, BookingFormAction>(BookingFormReducer, BookingFormStateInit);\n  const {history, width}                 = useContext<IGlobalContext>(GlobalContext);\n\n  const isWide = width === 'lg' || width === 'xl' || width === 'md';\n  const xsMode = width === 'xs';\n\n  useEffect(() => {\n    Promise.all([\n      priceCalculate(params),\n      getRoomBookingForm(params),\n      getProfile(),\n    ]).then(res => {\n      const [price, room, profile] = res;\n      dispatch({\n        type: 'setProfile',\n        profile: profile.data,\n      });\n\n      dispatch({\n        type: 'setRoom',\n        room: room.data,\n        price: price.data,\n      });\n\n    }).catch(err => {\n      history.push('/404');\n    });\n\n  }, [location]);\n\n  return (\n    <Fragment>\n      <NavTop />\n      <BookingFormContext.Provider value = {{state, dispatch}}>\n        <GridContainer xs = {11} sm = {11} xl = {7} lg = {10} md = {11} className = {classes.container} spacing = {0}>\n          <Grid\n            container\n            spacing = {xsMode ? 0 : 8}\n            className = {classes.marginContainer}\n            direction = {isWide ? 'row' : 'column-reverse'}\n          >\n            <Grid item xl = {8} lg = {8} md = {7} xs = {12}>\n              <BookingForm state = {state} />\n            </Grid>\n            <Grid item xl = {4} lg = {4} md = {5} xs = {12}>\n              <BookingInfoDetail />\n            </Grid>\n          </Grid>\n        </GridContainer>\n      </BookingFormContext.Provider>\n    </Fragment>\n  );\n};\n\nexport default compose<IProps, any>(\n  withStyles(styles),\n)(Form);\n"]},"metadata":{},"sourceType":"module"}