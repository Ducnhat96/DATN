{"ast":null,"code":"import _slicedToArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/ducnhat/Code/x-files/src/views/DetailsPage/GridImage.tsx\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport React, { Fragment, useContext, useState } from \"react\";\nimport { compose } from \"recompose\";\nimport { RoomDetailsContext } from \"@/store/context/Room/RoomDetailsContext\";\nimport _ from \"lodash\"; // @ts-ignore\n\nimport Lightbox from \"react-images\";\nimport GridImageLoader from \"@/components/PlaceHolder/GridImageLoader\";\nimport imageDefault from \"@/assets/image-default.jpg\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { GlobalContext } from '@/store/context/GlobalContext';\n\nvar styles = function styles(theme) {\n  var _imageBig, _imageSmall, _boxImgSmall;\n\n  return createStyles({\n    imageBig: (_imageBig = {\n      display: \"block\",\n      position: \"relative\",\n      float: \"left\",\n      lineHeight: 0,\n      overflow: \"hidden\",\n      width: \"50%\"\n    }, _defineProperty(_imageBig, theme.breakpoints.down(\"sm\"), {\n      width: \"67%\"\n    }), _defineProperty(_imageBig, theme.breakpoints.down(\"xs\"), {\n      width: \"100%\"\n    }), _defineProperty(_imageBig, \"height\", \"auto\"), _defineProperty(_imageBig, \"minHeight\", 440), _defineProperty(_imageBig, \"maxHeight\", \"100%\"), _defineProperty(_imageBig, \"MozBoxSizing\", \"border-box\"), _defineProperty(_imageBig, \"boxSizing\", \"border-box\"), _defineProperty(_imageBig, \"borderStyle\", \"solid\"), _defineProperty(_imageBig, \"borderWidth\", \"0.5px 0.5px 0.5px 0\"), _defineProperty(_imageBig, \"borderColor\", \"#fff\"), _imageBig),\n    imageSmall: (_imageSmall = {\n      display: \"block\",\n      position: \"relative\",\n      lineHeight: 0,\n      overflow: \"hidden\",\n      width: \"100%\",\n      height: \"50%\",\n      maxHeight: 220\n    }, _defineProperty(_imageSmall, theme.breakpoints.down(\"sm\"), {\n      maxHeight: 167.5\n    }), _defineProperty(_imageSmall, \"MozBoxSizing\", \"border-box\"), _defineProperty(_imageSmall, \"boxSizing\", \"border-box\"), _defineProperty(_imageSmall, \"borderStyle\", \"solid\"), _defineProperty(_imageSmall, \"borderWidth\", \"0.5px 0.5px 0.5px 0.5px\"), _defineProperty(_imageSmall, \"borderColor\", \"#fff\"), _imageSmall),\n    imageProp: {\n      objectFit: \"cover\",\n      border: 0,\n      position: \"relative\",\n      height: \"-webkit-fill-available\",\n      display: \"block\",\n      maxWidth: \"100%\",\n      width: \"100%\",\n      MozTransition: \"all 0.5s\",\n      WebkitTransition: \"all 0.5s\",\n      transition: \"all 0.5s\",\n      cursor: \"pointer\",\n      \"&:hover\": {\n        MsTransform: \"scale(1.1)\"\n        /* IE 9 */\n        ,\n        WebkitTransform: \"scale(1.1)\"\n        /* Safari 3-8 */\n        ,\n        transform: \"scale(1.1)\"\n      }\n    },\n    boxImgSmall: (_boxImgSmall = {\n      width: \"25%\"\n    }, _defineProperty(_boxImgSmall, theme.breakpoints.down(\"sm\"), {\n      width: \"33%\"\n    }), _defineProperty(_boxImgSmall, \"float\", \"left\"), _boxImgSmall),\n    imageDefault: {\n      position: \"absolute\",\n      width: \"243px\",\n      padding: \"10px\",\n      backgroundColor: \"white\",\n      zIndex: 9,\n      transform: \"translate(-50%,-50%)\",\n      top: \"50%\",\n      left: \"50%\",\n      transition: \"all 0.2s linear\",\n      border: \"2px dashed #ccc\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    button: {\n      padding: \"8px 20px\",\n      fontSize: \"0.9375rem\",\n      color: \"black\",\n      borderRadius: \"0px\",\n      fontWeight: 700,\n      textTransform: \"capitalize\",\n      \"&:hover\": {\n        backgroundColor: \"transparent\"\n      },\n      \"&:focus\": {\n        backgroundColor: \"transparent\"\n      }\n    },\n    iconUpload: {\n      fontSize: \"3.5rem\"\n    }\n  });\n};\n\nvar GridImage = function GridImage(props) {\n  var classes = props.classes;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      currentImage = _useState2[0],\n      setCurrentImage = _useState2[1];\n\n  var _useContext = useContext(RoomDetailsContext),\n      state = _useContext.state;\n\n  var _useContext2 = useContext(GlobalContext),\n      history = _useContext2.history;\n\n  var room = state.room;\n\n  if (room == null) {\n    return React.createElement(GridImageLoader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    });\n  }\n\n  var openLightbox = function openLightbox(event, index) {\n    event.preventDefault();\n    props.setIsOpen(true);\n    setCurrentImage(index);\n  };\n\n  var closeLightbox = function closeLightbox() {\n    setCurrentImage(0);\n    props.setIsOpen(false);\n  };\n\n  var updateImageUrl = \"https://merchant.westay.vn/merchant/listings/\".concat(room.id, \"/detail\");\n  var ROOM_IMAGES = room ? _.map(room.media.data, function (o) {\n    return {\n      src: \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(o.image)\n    };\n  }) : [];\n  return React.createElement(Fragment, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172\n    },\n    __self: this\n  }, !room.media.data.length ? React.createElement(\"a\", {\n    href: updateImageUrl,\n    target: \"_blank\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 4,\n    className: classes.imageDefault,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    className: classes.iconUpload,\n    color: \"primary\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175\n    },\n    __self: this\n  }, \"cloud_upload\"), React.createElement(Button, {\n    name: \"update-img\",\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178\n    },\n    __self: this\n  }, \"C\\u1EADp nh\\u1EADt h\\xECnh \\u1EA3nh\"))) : '', React.createElement(\"div\", {\n    className: classes.imageBig,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: room.media.data.length ? \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(room.media.data[0].image) : imageDefault,\n    alt: \"Living Room\",\n    className: classes.imageProp,\n    onClick: function onClick(e) {\n      return openLightbox(e, 0);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  })), React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.boxImgSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.imageSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: room.media.data.length ? \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(room.media.data[1].image) : imageDefault,\n    className: classes.imageProp,\n    onClick: function onClick(e) {\n      return openLightbox(e, 1);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classes.imageSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: room.media.data.length ? \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(room.media.data[2].image) : imageDefault,\n    className: classes.imageProp,\n    onClick: function onClick(e) {\n      return openLightbox(e, 2);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213\n    },\n    __self: this\n  })))), React.createElement(Hidden, {\n    smDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.boxImgSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.imageSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: room.media.data.length ? \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(room.media.data[3].image) : imageDefault,\n    className: classes.imageProp,\n    onClick: function onClick(e) {\n      return openLightbox(e, 3);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classes.imageSmall,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: room.media.data.length ? \"https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/\".concat(room.media.data[4].image) : imageDefault,\n    className: classes.imageProp,\n    onClick: function onClick(e) {\n      return openLightbox(e, 4);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 243\n    },\n    __self: this\n  })))), React.createElement(Lightbox, {\n    images: ROOM_IMAGES,\n    isOpen: props.isOpen,\n    onClickPrev: function onClickPrev() {\n      setCurrentImage(currentImage - 1);\n    },\n    onClickNext: function onClickNext() {\n      setCurrentImage(currentImage + 1);\n    },\n    rightArrowTitle: \"Next\",\n    leftArrowTitle: \"Previous\",\n    onClose: closeLightbox,\n    currentImage: currentImage,\n    showThumbnails: true,\n    onClickThumbnail: function onClickThumbnail(index) {\n      return setCurrentImage(index);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257\n    },\n    __self: this\n  }));\n};\n\nexport default compose(withStyles(styles))(GridImage);","map":{"version":3,"sources":["/home/ducnhat/Code/x-files/src/views/DetailsPage/GridImage.tsx"],"names":["withStyles","createStyles","Hidden","React","Fragment","useContext","useState","compose","RoomDetailsContext","_","Lightbox","GridImageLoader","imageDefault","Button","Icon","Paper","GlobalContext","styles","theme","imageBig","display","position","float","lineHeight","overflow","width","breakpoints","down","imageSmall","height","maxHeight","imageProp","objectFit","border","maxWidth","MozTransition","WebkitTransition","transition","cursor","MsTransform","WebkitTransform","transform","boxImgSmall","padding","backgroundColor","zIndex","top","left","flexDirection","justifyContent","alignItems","button","fontSize","color","borderRadius","fontWeight","textTransform","iconUpload","GridImage","props","classes","currentImage","setCurrentImage","state","history","room","openLightbox","event","index","preventDefault","setIsOpen","closeLightbox","updateImageUrl","id","ROOM_IMAGES","map","media","data","o","src","image","length","e","isOpen"],"mappings":"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","sourcesContent":["import { ThemeCustom } from \"@/components/Theme/Theme\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport createStyles from \"@material-ui/core/styles/createStyles\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport React, {\n  ComponentType,\n  Dispatch,\n  Fragment,\n  MouseEvent,\n  SetStateAction,\n  useContext,\n  useState\n} from \"react\";\nimport { compose } from \"recompose\";\nimport {\n  IRoomDetailsContext,\n  RoomDetailsContext\n} from \"@/store/context/Room/RoomDetailsContext\";\nimport _ from \"lodash\";\n// @ts-ignore\nimport Lightbox from \"react-images\";\nimport SimpleLoader from \"@/components/Loading/SimpleLoader\";\nimport GridImageLoader from \"@/components/PlaceHolder/GridImageLoader\";\nimport imageDefault from \"@/assets/image-default.jpg\";\nimport Button from \"@material-ui/core/Button\";\nimport Icon from \"@material-ui/core/Icon\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { IGlobalContext, GlobalContext } from '@/store/context/GlobalContext';\nimport { Link } from 'react-router-dom';\n\n\ninterface IProps {\n  classes?: any;\n  isOpen?: boolean;\n  setIsOpen: Dispatch<SetStateAction<boolean>>;\n}\n\nconst styles: any = (theme: ThemeCustom) =>\n  createStyles({\n    imageBig: {\n      display: \"block\",\n      position: \"relative\",\n      float: \"left\",\n      lineHeight: 0,\n      overflow: \"hidden\",\n      width: \"50%\",\n      [theme!.breakpoints!.down!(\"sm\")]: {\n        width: \"67%\"\n      },\n      [theme!.breakpoints!.down!(\"xs\")]: {\n        width: \"100%\"\n      },\n      height: \"auto\",\n      minHeight: 440,\n      maxHeight: \"100%\",\n      MozBoxSizing: \"border-box\",\n      boxSizing: \"border-box\",\n      borderStyle: \"solid\",\n      borderWidth: \"0.5px 0.5px 0.5px 0\",\n      borderColor: \"#fff\"\n    },\n    imageSmall: {\n      display: \"block\",\n      position: \"relative\",\n      lineHeight: 0,\n      overflow: \"hidden\",\n      width: \"100%\",\n      height: \"50%\",\n      maxHeight: 220,\n      [theme!.breakpoints!.down!(\"sm\")]: {\n        maxHeight: 167.5\n      },\n      MozBoxSizing: \"border-box\",\n      boxSizing: \"border-box\",\n      borderStyle: \"solid\",\n      borderWidth: \"0.5px 0.5px 0.5px 0.5px\",\n      borderColor: \"#fff\"\n    },\n    imageProp: {\n      objectFit: \"cover\",\n      border: 0,\n      position: \"relative\",\n      height: \"-webkit-fill-available\",\n      display: \"block\",\n      maxWidth: \"100%\",\n      width: \"100%\",\n      MozTransition: \"all 0.5s\",\n      WebkitTransition: \"all 0.5s\",\n      transition: \"all 0.5s\",\n      cursor: \"pointer\",\n      \"&:hover\": {\n        MsTransform: \"scale(1.1)\" /* IE 9 */,\n        WebkitTransform: \"scale(1.1)\" /* Safari 3-8 */,\n        transform: \"scale(1.1)\"\n      }\n    },\n    boxImgSmall: {\n      width: \"25%\",\n      [theme!.breakpoints!.down!(\"sm\")]: {\n        width: \"33%\"\n      },\n      float: \"left\"\n    },\n    imageDefault: {\n      position: \"absolute\",\n      width: \"243px\",\n      padding: \"10px\",\n      backgroundColor: \"white\",\n      zIndex: 9,\n      transform: \"translate(-50%,-50%)\",\n      top: \"50%\",\n      left: \"50%\",\n      transition: \"all 0.2s linear\",\n      border: \"2px dashed #ccc\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"center\",\n      alignItems: \"center\"\n    },\n    button: {\n      padding: \"8px 20px\",\n      fontSize: \"0.9375rem\",\n      color: \"black\",\n      borderRadius: \"0px\",\n      fontWeight: 700,\n      textTransform: \"capitalize\",\n      \"&:hover\": {\n        backgroundColor: \"transparent\",\n      },\n      \"&:focus\": {\n        backgroundColor: \"transparent\",\n      }\n    },\n    iconUpload: {\n      fontSize: \"3.5rem\"\n    }\n  });\n\nconst GridImage: ComponentType<IProps> = (props: IProps) => {\n  const { classes } = props;\n  const [currentImage, setCurrentImage] = useState<number>(0);\n  const { state } = useContext<IRoomDetailsContext>(RoomDetailsContext);\n  const { history } = useContext<IGlobalContext>(GlobalContext);\n\n  const { room } = state;\n  if (room == null) {\n    return <GridImageLoader />;\n  }\n\n  const openLightbox = (event: MouseEvent<HTMLImageElement>, index: number) => {\n    event.preventDefault();\n    props.setIsOpen(true);\n    setCurrentImage(index);\n  };\n  const closeLightbox = () => {\n    setCurrentImage(0);\n    props.setIsOpen(false);\n  };\n  const updateImageUrl = `https://merchant.westay.vn/merchant/listings/${room.id}/detail`;\n\n  const ROOM_IMAGES = room\n    ? _.map(room.media.data, o => {\n      return {\n        src: `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n          o.image\n          }`\n      };\n    })\n    : [];\n\n  return (\n    <Fragment>\n      {!room.media.data.length ? <a href={updateImageUrl} target=\"_blank\">\n        <Paper elevation={4} className={classes.imageDefault}>\n          <Icon className={classes.iconUpload} color=\"primary\">\n            cloud_upload\n            </Icon>\n          <Button name=\"update-img\" className={classes.button}>\n            Cập nhật hình ảnh\n            </Button>\n        </Paper>\n      </a> : ''}\n      <div className={classes.imageBig}>\n        <img\n          src={\n            room.media.data.length\n              ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n              room.media.data[0].image\n              }`\n              : imageDefault\n          }\n          alt=\"Living Room\"\n          className={classes.imageProp}\n          onClick={e => openLightbox(e, 0)}\n        />\n      </div>\n      <Hidden xsDown>\n        <div className={classes.boxImgSmall}>\n          <div className={classes.imageSmall}>\n            <img\n              src={\n                room.media.data.length\n                  ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n                  room.media.data[1].image\n                  }`\n                  : imageDefault\n              }\n              className={classes.imageProp}\n              onClick={e => openLightbox(e, 1)}\n            />\n          </div>\n          <div className={classes.imageSmall}>\n            <img\n              src={\n                room.media.data.length\n                  ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n                  room.media.data[2].image\n                  }`\n                  : imageDefault\n              }\n              className={classes.imageProp}\n              onClick={e => openLightbox(e, 2)}\n            />\n          </div>\n        </div>\n      </Hidden>\n      <Hidden smDown>\n        <div className={classes.boxImgSmall}>\n          <div className={classes.imageSmall}>\n            <img\n              src={\n                room.media.data.length\n                  ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n                  room.media.data[3].image\n                  }`\n                  : imageDefault\n              }\n              className={classes.imageProp}\n              onClick={e => openLightbox(e, 3)}\n            />\n          </div>\n          <div className={classes.imageSmall}>\n            <img\n              src={\n                room.media.data.length\n                  ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n                  room.media.data[4].image\n                  }`\n                  : imageDefault\n              }\n              className={classes.imageProp}\n              onClick={e => openLightbox(e, 4)}\n            />\n          </div>\n        </div>\n      </Hidden>\n      <Lightbox\n        images={ROOM_IMAGES}\n        isOpen={props.isOpen}\n        onClickPrev={() => {\n          setCurrentImage(currentImage - 1);\n        }}\n        onClickNext={() => {\n          setCurrentImage(currentImage + 1);\n        }}\n        rightArrowTitle=\"Next\"\n        leftArrowTitle=\"Previous\"\n        onClose={closeLightbox}\n        currentImage={currentImage}\n        showThumbnails={true}\n        onClickThumbnail={(index: number) => setCurrentImage(index)}\n      />\n    </Fragment>\n  );\n};\n\nexport default compose<IProps, any>(withStyles(styles))(GridImage);\n"]},"metadata":{},"sourceType":"module"}