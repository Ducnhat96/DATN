{"ast":null,"code":"import _toConsumableArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"/home/ducnhat/Code/x-files/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/ducnhat/Code/x-files/src/views/DetailsPage/DetailsPage.tsx\";\nimport NavSearch from '@/components/ToolBar/NavSearch';\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridImage from '@/views/DetailsPage/GridImage';\nimport BoxDetails from '@/views/DetailsPage/BoxDetails';\nimport BoxReviews from '@/views/DetailsPage/BoxReviews';\nimport BoxBooking from '@/views/DetailsPage/BoxBooking';\nimport SliderSuggest from '@/views/DetailsPage/SliderSuggest';\nimport NavBottomBook from '@/views/DetailsPage/NavBottomBook';\nimport { withStyles } from '@material-ui/core/styles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport React, { useContext, useEffect, useReducer, useState, useMemo, memo } from 'react';\nimport { compose } from 'recompose';\nimport Button from '@material-ui/core/Button/Button';\nimport GridContainer from '@/layouts/Grid/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport Paper from '@material-ui/core/Paper/Paper';\nimport { RoomDetailsContext, RoomDetailsReducer, RoomDetailsStateInit, getData } from '@/store/context/Room/RoomDetailsContext';\nimport { match } from 'react-router';\nimport { GlobalContext } from '@/store/context/GlobalContext';\nimport Typography from '@material-ui/core/Typography/Typography';\nimport DatePickerRoomDetail from '@/components/Utils/DatePickerRoomDetail';\nimport { BOOKING_TYPE_DAY } from '@/utils/store/global';\nimport useFocusTitle from '@/utils/focusState';\nimport { connect } from 'react-redux';\nimport LocationHomeMap from \"@/views/DetailsPage/LocationHomeMap\";\nimport Footer from '@/layouts/Main/Footer';\n\nvar styles = function styles(theme) {\n  var _boxGridImage, _rowMargin;\n\n  return createStyles({\n    boxGridImage: (_boxGridImage = {\n      width: '100%',\n      height: 'auto',\n      maxHeight: 440\n    }, _defineProperty(_boxGridImage, theme.breakpoints.down('sm'), {\n      maxHeight: 335\n    }), _defineProperty(_boxGridImage, \"overflow\", 'hidden'), _defineProperty(_boxGridImage, \"position\", 'relative'), _boxGridImage),\n    div_btnMore: {\n      position: 'absolute',\n      bottom: '4%',\n      right: '2%'\n    },\n    btnMore: {\n      backgroundColor: '#fff',\n      color: '#343434',\n      MozTransition: 'all 0.3s',\n      WebkitTransition: 'all 0.3s',\n      transition: 'all 0.3s',\n      border: 'none',\n      fontWeight: 600,\n      '&:hover': {\n        MsTransform: 'scale(1.1)',\n\n        /* IE 9 */\n        WebkitTransform: 'scale(1.1)',\n\n        /* Safari 3-8 */\n        transform: 'scale(1.1)',\n        backgroundColor: '#fff'\n      }\n    },\n    boxDetails: _defineProperty({\n      width: '100%',\n      paddingTop: 15,\n      backgroundColor: '#fafafa'\n    }, theme.breakpoints.down('sm'), {\n      paddingTop: 0\n    }),\n    boxPadding: _defineProperty({\n      padding: 16\n    }, theme.breakpoints.down('xs'), {\n      padding: '10px 0'\n    }),\n    boxSuggest: _defineProperty({\n      margin: '10px 0',\n      padding: '16px 0'\n    }, theme.breakpoints.down('xs'), {\n      padding: '0px 10px'\n    }),\n    title: {\n      fontSize: 24,\n      fontWeight: 800,\n      lineHeight: '1.25em',\n      color: '#484848',\n      padding: '8px 0'\n    },\n    divider: {\n      margin: '8px 0'\n    },\n    paperDetail: _defineProperty({\n      border: '1px solid #e4e4e4'\n    }, theme.breakpoints.down('xs'), {\n      border: 'none'\n    }),\n    PaperBooking: {\n      // border:'1px solid #e4e4e4',\n      position: 'sticky',\n      top: '8%',\n      left: 'auto',\n      right: 0\n    },\n    titleHighlight: {\n      fontSize: 20,\n      fontWeight: 600,\n      lineHeight: '1.375em',\n      color: '#484848'\n    },\n    rowMargin: (_rowMargin = {\n      margin: '10px 0',\n      padding: '12px 10px'\n    }, _defineProperty(_rowMargin, theme.breakpoints.down('xs'), {\n      padding: '10px 0px'\n    }), _defineProperty(_rowMargin, \"borderTop\", '1px solid #e0e0e0'), _rowMargin),\n    boxMap: {\n      height: 350,\n      margin: '10px 0',\n      borderRadius: 5,\n      overflow: 'hidden',\n      border: '1px solid #e0e0e0'\n    },\n    paddingXS: _defineProperty({}, theme.breakpoints.down('xs'), {\n      width: '95%',\n      margin: '0 auto'\n    })\n  });\n}; // @ts-ignore\n\n\nvar DetailsPage = function DetailsPage(props) {\n  var classes = props.classes,\n      match = props.match,\n      roomRecently = props.roomRecently,\n      updateRoomRecently = props.updateRoomRecently;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isOpen = _useState2[0],\n      setIsOpen = _useState2[1];\n\n  var _useReducer = useReducer(RoomDetailsReducer, RoomDetailsStateInit),\n      _useReducer2 = _slicedToArray(_useReducer, 2),\n      state = _useReducer2[0],\n      dispatch = _useReducer2[1];\n\n  var _useContext = useContext(GlobalContext),\n      history = _useContext.history;\n\n  var bookingType = state.bookingType,\n      room = state.room;\n  var roomTitle = useMemo(function () {\n    return room !== null && room.details.data[0].name !== null ? room.details.data[0].name : \"Chưa cập nhật tên phòng\";\n  }, [room]); // const roomStatus = useMemo(() => {\n  //   return room !== null ? room.status : 0;\n  // }, [room])\n\n  useEffect(function () {\n    var id = parseInt(match.params.id);\n    getData(id, dispatch, history); // Store room recently viewed\n\n    var roomRecentlyAfter = roomRecently ? _toConsumableArray(roomRecently) : [];\n    roomRecentlyAfter.unshift(id); // @ts-ignore\n\n    roomRecentlyAfter = _toConsumableArray(new Set(roomRecentlyAfter));\n\n    if (roomRecentlyAfter.length > 5) {\n      roomRecentlyAfter.pop();\n    }\n\n    updateRoomRecently(roomRecentlyAfter);\n  }, []);\n  useFocusTitle(roomTitle, roomTitle, room);\n  return React.createElement(RoomDetailsContext.Provider, {\n    value: {\n      state: state,\n      dispatch: dispatch\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, React.createElement(NavTop, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205\n    },\n    __self: this\n  }), React.createElement(Hidden, {\n    xsDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206\n    },\n    __self: this\n  }, React.createElement(NavSearch, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classes.boxGridImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209\n    },\n    __self: this\n  }, React.createElement(GridImage, {\n    isOpen: isOpen,\n    setIsOpen: setIsOpen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: classes.div_btnMore,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211\n    },\n    __self: this\n  }, React.createElement(Button, {\n    className: classes.btnMore,\n    variant: \"outlined\",\n    size: \"small\",\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212\n    },\n    __self: this\n  }, \"Xem th\\xEAm\"))), React.createElement(\"div\", {\n    className: classes.boxDetails,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217\n    },\n    __self: this\n  }, React.createElement(GridContainer, {\n    xs: 12,\n    sm: 12,\n    md: 11,\n    lg: 11,\n    xl: 10,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 11,\n    lg: 8,\n    xl: 8,\n    className: classes.boxPadding,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.boxPadding,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222\n    },\n    __self: this\n  }, React.createElement(BoxDetails, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223\n    },\n    __self: this\n  }), room ? React.createElement(DatePickerRoomDetail, {\n    minNights: bookingType === BOOKING_TYPE_DAY ? 1 : 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225\n    },\n    __self: this\n  }) : '', room && room.total_review > 0 ? React.createElement(BoxReviews, {\n    review: room.reviews.data,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230\n    },\n    __self: this\n  }) : '', room ? React.createElement(\"div\", {\n    className: classes.rowMargin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.paddingXS,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.titleHighlight,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235\n    },\n    __self: this\n  }, \"B\\u1EA3n \\u0111\\u1ED3\"), React.createElement(\"div\", {\n    className: classes.boxMap,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238\n    },\n    __self: this\n  }, React.createElement(LocationHomeMap, {\n    zoom: 14,\n    center: {\n      lat: parseFloat(room.latitude),\n      lng: parseFloat(room.longitude)\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239\n    },\n    __self: this\n  })))) : ''))), React.createElement(Hidden, {\n    mdDown: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    sm: 12,\n    md: 11,\n    lg: 4,\n    xl: 4,\n    className: classes.boxPadding,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253\n    },\n    __self: this\n  }, React.createElement(Paper, {\n    elevation: 2,\n    className: classes.PaperBooking,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254\n    },\n    __self: this\n  }, React.createElement(BoxBooking, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255\n    },\n    __self: this\n  }))))), React.createElement(Grid, {\n    container: true,\n    className: classes.boxPadding,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    xs: 12,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.boxSuggest,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262\n    },\n    __self: this\n  }, React.createElement(Typography, {\n    className: classes.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263\n    },\n    __self: this\n  }, \"G\\u1EE3i \\xFD\"), React.createElement(SliderSuggest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266\n    },\n    __self: this\n  })))), React.createElement(Hidden, {\n    lgUp: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 270\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    container: true,\n    className: classes.boxPadding,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271\n    },\n    __self: this\n  }, React.createElement(NavBottomBook, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 272\n    },\n    __self: this\n  }))))), React.createElement(Footer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278\n    },\n    __self: this\n  }));\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    roomRecently: state.searchFilter.roomRecently\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    updateRoomRecently: function updateRoomRecently(list) {\n      return dispatch({\n        type: 'SET_ROOM_RECENTLY',\n        roomRecently: list\n      });\n    }\n  };\n};\n\nexport default compose(connect(mapStateToProps, mapDispatchToProps), withStyles(styles), memo)(DetailsPage);","map":{"version":3,"sources":["/home/ducnhat/Code/x-files/src/views/DetailsPage/DetailsPage.tsx"],"names":["NavSearch","NavTop","GridImage","BoxDetails","BoxReviews","BoxBooking","SliderSuggest","NavBottomBook","withStyles","createStyles","React","useContext","useEffect","useReducer","useState","useMemo","memo","compose","Button","GridContainer","Grid","Hidden","Paper","RoomDetailsContext","RoomDetailsReducer","RoomDetailsStateInit","getData","match","GlobalContext","Typography","DatePickerRoomDetail","BOOKING_TYPE_DAY","useFocusTitle","connect","LocationHomeMap","Footer","styles","theme","boxGridImage","width","height","maxHeight","breakpoints","down","div_btnMore","position","bottom","right","btnMore","backgroundColor","color","MozTransition","WebkitTransition","transition","border","fontWeight","MsTransform","WebkitTransform","transform","boxDetails","paddingTop","boxPadding","padding","boxSuggest","margin","title","fontSize","lineHeight","divider","paperDetail","PaperBooking","top","left","titleHighlight","rowMargin","boxMap","borderRadius","overflow","paddingXS","DetailsPage","props","classes","roomRecently","updateRoomRecently","isOpen","setIsOpen","state","dispatch","history","bookingType","room","roomTitle","details","data","name","id","parseInt","params","roomRecentlyAfter","unshift","Set","length","pop","total_review","reviews","lat","parseFloat","latitude","lng","longitude","mapStateToProps","searchFilter","mapDispatchToProps","list","type"],"mappings":"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","sourcesContent":["import { ThemeCustom } from '@/components/Theme/Theme';\nimport NavSearch from '@/components/ToolBar/NavSearch';\nimport NavTop from '@/components/ToolBar/NavTop';\nimport GridImage from '@/views/DetailsPage/GridImage';\nimport BoxDetails from '@/views/DetailsPage/BoxDetails';\nimport BoxReviews from '@/views/DetailsPage/BoxReviews';\nimport BoxBooking from '@/views/DetailsPage/BoxBooking';\nimport SliderSuggest from '@/views/DetailsPage/SliderSuggest';\nimport NavBottomBook from '@/views/DetailsPage/NavBottomBook';\nimport { withStyles } from '@material-ui/core/styles';\nimport createStyles from '@material-ui/core/styles/createStyles';\nimport React, { ComponentType, useContext, useEffect, useReducer, useState, useMemo, memo, Dispatch } from 'react';\nimport { compose } from 'recompose';\nimport Button from '@material-ui/core/Button/Button';\nimport GridContainer from '@/layouts/Grid/Container';\nimport Grid from '@material-ui/core/Grid';\nimport Hidden from '@material-ui/core/Hidden';\nimport Paper from '@material-ui/core/Paper/Paper';\nimport {\n  RoomDetailsAction,\n  RoomDetailsContext,\n  RoomDetailsReducer,\n  RoomDetailsState,\n  RoomDetailsStateInit,\n  getData,\n} from '@/store/context/Room/RoomDetailsContext';\nimport { match, RouteChildrenProps } from 'react-router';\nimport { GlobalContext, IGlobalContext } from '@/store/context/GlobalContext';\nimport Typography from '@material-ui/core/Typography/Typography';\nimport DatePickerRoomDetail from '@/components/Utils/DatePickerRoomDetail';\nimport { BOOKING_TYPE_DAY } from '@/utils/store/global';\nimport useFocusTitle from '@/utils/focusState';\nimport { ReducersType, ReducersList } from '@/store/reducers';\nimport { SearchFilterAction, DateRange } from '@/store/reducers/searchFilter';\nimport { connect } from 'react-redux';\nimport LocationHomeMap from \"@/views/DetailsPage/LocationHomeMap\";\nimport Footer from '@/layouts/Main/Footer';\nimport { Helmet } from 'react-helmet';\ninterface IProps extends RouteChildrenProps {\n  classes?: any,\n  match: match<any>\n}\n\ninterface LocalProps extends IProps {\n  roomRecently: number[]\n  updateRoomRecently(list: number[]): void\n}\n\nconst styles: any = (theme: ThemeCustom) => createStyles({\n  boxGridImage: {\n    width: '100%',\n    height: 'auto',\n    maxHeight: 440,\n    [theme!.breakpoints!.down!('sm')]: {\n      maxHeight: 335,\n    },\n    overflow: 'hidden',\n    position: 'relative',\n  },\n  div_btnMore: {\n    position: 'absolute',\n    bottom: '4%',\n    right: '2%',\n  },\n  btnMore: {\n    backgroundColor: '#fff',\n    color: '#343434',\n    MozTransition: 'all 0.3s',\n    WebkitTransition: 'all 0.3s',\n    transition: 'all 0.3s',\n    border: 'none',\n    fontWeight: 600,\n    '&:hover': {\n      MsTransform: 'scale(1.1)', /* IE 9 */\n      WebkitTransform: 'scale(1.1)', /* Safari 3-8 */\n      transform: 'scale(1.1)',\n      backgroundColor: '#fff',\n    },\n  },\n  boxDetails: {\n    width: '100%',\n    paddingTop: 15,\n    backgroundColor: '#fafafa',\n    [theme!.breakpoints!.down!('sm')]: {\n      paddingTop: 0,\n    },\n  },\n  boxPadding: {\n    padding: 16,\n    [theme!.breakpoints!.down!('xs')]: {\n      padding: '10px 0',\n    },\n  },\n  boxSuggest: {\n    margin: '10px 0',\n    padding: '16px 0',\n    [theme!.breakpoints!.down!('xs')]: {\n      padding: '0px 10px',\n    },\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 800,\n    lineHeight: '1.25em',\n    color: '#484848',\n    padding: '8px 0',\n  },\n  divider: {\n    margin: '8px 0',\n  },\n  paperDetail: {\n    border: '1px solid #e4e4e4',\n    [theme!.breakpoints!.down!('xs')]: {\n      border: 'none',\n    },\n  },\n  PaperBooking: {\n    // border:'1px solid #e4e4e4',\n    position: 'sticky',\n    top: '8%',\n    left: 'auto',\n    right: 0,\n  },\n  titleHighlight: {\n    fontSize: 20,\n    fontWeight: 600,\n    lineHeight: '1.375em',\n    color: '#484848',\n  },\n  rowMargin: {\n    margin: '10px 0',\n    padding: '12px 10px',\n    [theme!.breakpoints!.down!('xs')]: {\n      padding: '10px 0px',\n    },\n    borderTop: '1px solid #e0e0e0',\n  },\n  boxMap: {\n    height: 350,\n    margin: '10px 0',\n    borderRadius: 5,\n    overflow: 'hidden',\n    border: '1px solid #e0e0e0',\n  },\n  paddingXS: {\n    [theme!.breakpoints!.down!('xs')]: {\n      width: '95%',\n      margin: '0 auto',\n    },\n  },\n});\n\n// @ts-ignore\nconst DetailsPage: ComponentType<IProps> = (props: LocalProps) => {\n  const { classes, match, roomRecently, updateRoomRecently } = props;\n\n  const [isOpen, setIsOpen] = useState<boolean>(false);\n  const [state, dispatch] = useReducer<RoomDetailsState, RoomDetailsAction>(RoomDetailsReducer, RoomDetailsStateInit);\n  const { history } = useContext<IGlobalContext>(GlobalContext);\n\n  const { bookingType, room } = state;\n\n  const roomTitle = useMemo(() => {\n    return (room !== null && room!.details.data[0].name !== null) ? room!.details.data[0].name : \"Chưa cập nhật tên phòng\";\n  }, [room]);\n\n  // const roomStatus = useMemo(() => {\n  //   return room !== null ? room.status : 0;\n  // }, [room])\n\n  useEffect(() => {\n    let id = parseInt(match.params.id);\n    getData(id, dispatch, history);\n    // Store room recently viewed\n\n    let roomRecentlyAfter: number[] = roomRecently ? [...roomRecently] : [];\n    roomRecentlyAfter.unshift(id);\n    // @ts-ignore\n    roomRecentlyAfter = [...new Set(roomRecentlyAfter)];\n\n    if (roomRecentlyAfter.length > 5) {\n      roomRecentlyAfter.pop();\n    }\n    updateRoomRecently(roomRecentlyAfter);\n  }, []);\n\n  useFocusTitle(roomTitle, roomTitle, room);\n\n  return (\n    <RoomDetailsContext.Provider value={{ state, dispatch }}>\n      {/* <Helmet>\n        <meta charSet='utf-8' />\n        <title>{room ? room!.details.data[0].name : 'Homestay'}</title>\n        <meta property=\"og:image\" content={room ? `https://s3-ap-southeast-1.amazonaws.com/westay-img/lg/${\n          room!.media.data[0].image\n          }` : 'asdf'} />\n        <meta property=\"og:title\" content={room ? room!.details.data[0].name : 'Westay - Homestay cho người Việt'} />\n        <meta property=\"og:type\" content=\"article\" />\n        <meta property=\"og:locale\" content=\"vi_VN\" />\n        <meta property=\"og:url\" content={`https://westay.vn/room/${room ? room!.id : ''}`} />\n        <meta property=\"og:site_name\" content=\"Westay - Stay happy together\" />\n        <meta property=\"og:description\" content={`VN-Homestay - Đặt phòng Homestay giá rẻ, tiện lợi, nhanh chóng`} />\n      </Helmet> */}\n      {/* <div> */}\n      <NavTop />\n      <Hidden xsDown>\n        <NavSearch />\n      </Hidden>\n      <div className={classes.boxGridImage}>\n        <GridImage isOpen={isOpen} setIsOpen={setIsOpen} />\n        <div className={classes.div_btnMore}>\n          <Button className={classes.btnMore} variant='outlined'\n            size='small' onClick={() => setIsOpen(true)}\n          >Xem thêm</Button>\n        </div>\n      </div>\n      <div className={classes.boxDetails}>\n        <GridContainer xs={12} sm={12} md={11} lg={11} xl={10}>\n          <Grid container justify='center'>\n            <Grid item sm={12} md={11} lg={8} xl={8} className={classes.boxPadding}>\n              <Paper elevation={0}>\n                <div className={classes.boxPadding}>\n                  <BoxDetails />\n                  {room ? (\n                    <DatePickerRoomDetail\n                      minNights={bookingType === BOOKING_TYPE_DAY ? 1 : 0}\n                    />\n                  ) : ''}\n                  {\n                    (room && room!.total_review > 0) ? <BoxReviews review={room.reviews.data} /> : ''\n                  }\n                  {room ?\n                    <div className={classes.rowMargin}>\n                      <div className={classes.paddingXS}>\n                        <Typography className={classes.titleHighlight}>\n                          Bản đồ\n                          </Typography>\n                        <div className={classes.boxMap}>\n                          <LocationHomeMap zoom={14}\n                            center={{\n                              lat: parseFloat(room!.latitude),\n                              lng: parseFloat(room!.longitude),\n                            }} />\n                        </div>\n                      </div>\n                    </div>\n                    : ''\n                  }\n                </div>\n              </Paper>\n            </Grid>\n            <Hidden mdDown>\n              <Grid item sm={12} md={11} lg={4} xl={4} className={classes.boxPadding}>\n                <Paper elevation={2} className={classes.PaperBooking}>\n                  <BoxBooking />\n                </Paper>\n              </Grid>\n            </Hidden>\n          </Grid>\n          <Grid container className={classes.boxPadding}>\n            <Grid item xs={12}>\n              <div className={classes.boxSuggest}>\n                <Typography className={classes.title}>\n                  Gợi ý\n                  </Typography>\n                <SliderSuggest />\n              </div>\n            </Grid>\n          </Grid>\n          <Hidden lgUp>\n            <Grid container className={classes.boxPadding}>\n              <NavBottomBook />\n            </Grid>\n          </Hidden>\n        </GridContainer>\n      </div>\n      {/* </div> */}\n      <Footer />\n    </RoomDetailsContext.Provider>\n  );\n};\n\nconst mapStateToProps = (state: ReducersList) => {\n  return {\n    roomRecently: state.searchFilter.roomRecently,\n  };\n};\n\nconst mapDispatchToProps = (dispatch: Dispatch<SearchFilterAction>) => {\n  return {\n    updateRoomRecently: (list: number[]) => dispatch({\n      type: 'SET_ROOM_RECENTLY',\n      roomRecently: list,\n    }),\n  };\n};\n\nexport default compose<IProps, any>(\n  connect(mapStateToProps, mapDispatchToProps),\n  withStyles(styles),\n  memo,\n)(DetailsPage);\n"]},"metadata":{},"sourceType":"module"}