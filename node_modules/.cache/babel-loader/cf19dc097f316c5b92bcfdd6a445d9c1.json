{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _styles = require('@material-ui/core/styles');\n\nvar _transitions = require('@material-ui/core/styles/transitions');\n\nvar _colorManipulator = require('@material-ui/core/styles/colorManipulator');\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Clock = require('./Clock');\n\nvar _Clock2 = _interopRequireDefault(_Clock);\n\nvar _util = require('./util');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      width: 288,\n      fontFamily: theme.typography.fontFamily\n    },\n    header: {\n      background: theme.palette.primary.main,\n      color: (0, _colorManipulator.fade)((0, _colorManipulator.getContrastRatio)(theme.palette.primary.main, theme.palette.common.black) < 7 ? theme.palette.common.white : theme.palette.common.black, 0.54),\n      padding: '20px 0',\n      lineHeight: '58px',\n      fontSize: '58px',\n      display: 'flex',\n      justifyContent: 'center',\n      alignItems: 'baseline',\n      userSelect: 'none'\n    },\n    time: {\n      transition: 'all ' + _transitions.duration.short + 'ms ' + _transitions.easing.easeInOut,\n      cursor: 'pointer'\n    },\n    placeholder: {\n      flex: 1\n    },\n    ampm: {\n      display: 'flex',\n      flexDirection: 'column-reverse',\n      flex: 1,\n      fontSize: '14px',\n      lineHeight: '20px',\n      marginLeft: 16,\n      fontWeight: 700\n    },\n    select: {\n      color: (0, _colorManipulator.getContrastRatio)(theme.palette.primary.main, theme.palette.common.black) < 7 ? theme.palette.common.white : theme.palette.common.black\n    },\n    body: {\n      padding: '24px 16px',\n      background: theme.palette.background.paper\n    }\n  };\n};\n\nvar TimePicker = function (_React$Component) {\n  _inherits(TimePicker, _React$Component);\n\n  function TimePicker(props) {\n    _classCallCheck(this, TimePicker);\n\n    var _this = _possibleConstructorReturn(this, (TimePicker.__proto__ || Object.getPrototypeOf(TimePicker)).call(this, props));\n\n    _this.handleClockChange = function (value) {\n      if (_this.state.select === 'h') {\n        if (_this.props.mode === '12h') {\n          if (_this.state.hours >= 12) {\n            _this.setState({\n              hours: value === 12 ? value : value + 12\n            }, _this.propagateChange);\n          } else {\n            _this.setState({\n              hours: value === 12 ? 0 : value\n            }, _this.propagateChange);\n          }\n        } else {\n          _this.setState({\n            hours: value\n          }, _this.propagateChange);\n        }\n      } else {\n        _this.setState({\n          minutes: value\n        }, function () {\n          _this.propagateChange();\n        });\n      }\n    };\n\n    _this.handleClockChangeDone = function (e) {\n      e.preventDefault(); // prevent mouseUp after touchEnd\n\n      if (_this.state.select === 'm') {\n        if (_this.props.onMinutesSelected) {\n          setTimeout(function () {\n            _this.props.onMinutesSelected();\n          }, 300);\n        }\n      } else {\n        setTimeout(function () {\n          _this.setState({\n            select: 'm'\n          });\n        }, 300);\n      }\n    };\n\n    _this.editHours = function () {\n      return _this.setState({\n        select: 'h'\n      });\n    };\n\n    _this.editMinutes = function () {\n      return _this.setState({\n        select: 'm'\n      });\n    };\n\n    _this.setAm = function () {\n      if (_this.state.hours >= 12) {\n        _this.setState({\n          hours: _this.state.hours - 12\n        }, _this.propagateChange);\n      }\n    };\n\n    _this.setPm = function () {\n      if (_this.state.hours < 12) {\n        _this.setState({\n          hours: _this.state.hours + 12\n        }, _this.propagateChange);\n      }\n    };\n\n    _this.propagateChange = function () {\n      if (_this.props.onChange != null) {\n        var date = new Date();\n        date.setHours(_this.state.hours);\n        date.setMinutes(_this.state.minutes);\n        date.setSeconds(0);\n        date.setMilliseconds(0);\n\n        _this.props.onChange(date);\n      }\n    };\n\n    var defaultValue = new Date();\n    defaultValue.setSeconds(0);\n    defaultValue.setMilliseconds(0);\n    var time = props.value || props.defaultValue || defaultValue;\n    _this.state = {\n      select: 'h',\n      hours: time.getHours(),\n      minutes: time.getMinutes()\n    };\n    return _this;\n  }\n\n  _createClass(TimePicker, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.value != null && (this.props.value == null || nextProps.value.getTime() !== this.props.value.getTime())) {\n        this.setState({\n          hours: nextProps.value.getHours(),\n          minutes: nextProps.value.getMinutes()\n        });\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          classes = _props.classes,\n          mode = _props.mode;\n      var clockMode = this.state.select === 'm' ? 'minutes' : mode;\n      var minutes = this.state.minutes;\n\n      var _formatHours = (0, _util.formatHours)(this.state.hours, mode),\n          hours = _formatHours.hours,\n          isPm = _formatHours.isPm;\n\n      return _react2.default.createElement('div', {\n        className: classes.root\n      }, _react2.default.createElement('div', {\n        className: classes.header\n      }, _react2.default.createElement('div', {\n        className: classes.placeholder\n      }), _react2.default.createElement('div', null, _react2.default.createElement('span', {\n        className: (0, _classnames2.default)(classes.time, _defineProperty({}, classes.select, this.state.select === 'h' && 'active')),\n        onClick: this.editHours\n      }, (0, _util.twoDigits)(hours)), ':', _react2.default.createElement('span', {\n        className: (0, _classnames2.default)(classes.time, _defineProperty({}, classes.select, this.state.select === 'm' && 'active')),\n        onClick: this.editMinutes\n      }, (0, _util.twoDigits)(minutes))), mode === '12h' ? _react2.default.createElement('div', {\n        className: classes.ampm\n      }, _react2.default.createElement('span', {\n        className: (0, _classnames2.default)(classes.time, _defineProperty({}, classes.select, isPm)),\n        onClick: this.setPm\n      }, 'PM'), _react2.default.createElement('span', {\n        className: (0, _classnames2.default)(classes.time, _defineProperty({}, classes.select, !isPm)),\n        onClick: this.setAm\n      }, 'AM')) : _react2.default.createElement('div', {\n        className: classes.placeholder\n      })), _react2.default.createElement('div', {\n        className: classes.body\n      }, _react2.default.createElement(_Clock2.default, {\n        mode: clockMode,\n        onChange: this.handleClockChange,\n        value: clockMode === 'minutes' ? minutes : hours,\n        onMouseUp: this.handleClockChangeDone,\n        onTouchEnd: this.handleClockChangeDone\n      })));\n    }\n  }]);\n\n  return TimePicker;\n}(_react2.default.Component);\n\nTimePicker.propTypes = {\n  /** The initial value of the time picker. */\n  defaultValue: _propTypes2.default.instanceOf(Date),\n\n  /** Sets the clock mode, 12-hour or 24-hour clocks are supported. */\n  mode: _propTypes2.default.oneOf(['12h', '24h']),\n\n  /** Callback that is called with the new date (as Date instance) when the value is changed. */\n  onChange: _propTypes2.default.func,\n\n  /** Callback that is called when the minutes are changed. Can be used to automatically hide the picker after selecting a time. */\n  onMinutesSelected: _propTypes2.default.func,\n\n  /** The value of the time picker, for use in controlled mode. */\n  value: _propTypes2.default.instanceOf(Date)\n};\nTimePicker.defaultProps = {\n  mode: '12h'\n};\nexports.default = (0, _styles.withStyles)(styles)(TimePicker);","map":null,"metadata":{},"sourceType":"script"}